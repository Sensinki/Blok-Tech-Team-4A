var _0x330674=_0x30a3;(function(_0x2afcb8,_0xa38545){var _0x2ef68e=_0x30a3,_0x2afc75=_0x2afcb8();while(!![]){try{var _0x43b056=-parseInt(_0x2ef68e(0x182))/0x1+parseInt(_0x2ef68e(0x17a))/0x2*(-parseInt(_0x2ef68e(0x166))/0x3)+-parseInt(_0x2ef68e(0x18c))/0x4+parseInt(_0x2ef68e(0x185))/0x5+parseInt(_0x2ef68e(0x164))/0x6*(-parseInt(_0x2ef68e(0x187))/0x7)+parseInt(_0x2ef68e(0x1a9))/0x8+-parseInt(_0x2ef68e(0x162))/0x9*(-parseInt(_0x2ef68e(0x190))/0xa);if(_0x43b056===_0xa38545)break;else _0x2afc75['push'](_0x2afc75['shift']());}catch(_0x53210f){_0x2afc75['push'](_0x2afc75['shift']());}}}(_0x30fe,0x6697f));const inputField=document[_0x330674(0x19d)](_0x330674(0x163)),sendButton=document['querySelector']('.send-button'),chatBox=document[_0x330674(0x19d)](_0x330674(0x17b)),fallbackMessage=document[_0x330674(0x19d)]('.fallback-message'),searchGif=document[_0x330674(0x19d)](_0x330674(0x1a4)),gifButton=document['querySelector']('.gif-button'),gifHide=document[_0x330674(0x19d)](_0x330674(0x161)),searchInput=document[_0x330674(0x172)](_0x330674(0x193)),form=document[_0x330674(0x172)]('input-form'),socket=io();let isSendingMessage=!0x1,username;function _0x30fe(){var _0x16a3cc=['smooth','gif','classList','createElement','src','gifContainer','.searchGif','url','Enter','display','content','1295552WumQbR','data','img','message','sent-gif','isGif','Connected\x20to\x20server','scrollIntoView','username','.gifHide','729jKFKcX','.input-field','276ocyhtC','key','1532163ZQLnps','click','addEventListener','style','&limit20','fixed_width','then','length','innerHTML','keypress','\x20-\x20','left-bubble','getElementById','submit','toString','right-bubble','data-gif','getAttribute','catch','trim','2kZbgie','.chat-box','loggedInUser','timestamp','preventDefault','username-me','showInput','apiKey','592596Rwwytv','none','Fout\x20bij\x20het\x20ophalen\x20van\x20de\x20API_KEY:','1996570YiLLUK','setAttribute','90601IYbOMC','getMinutes','text','connect','padStart','1250844HAwWPE','add','json','value','230910PWOVEh','&api_key=','chat-bubble','searchInput','sender','log','remove','active','images','contains','emit','appendChild','https://api.giphy.com/v1/gifs/search?q=','querySelector'];_0x30fe=function(){return _0x16a3cc;};return _0x30fe();}function sendMessage(_0x47a642,_0x452096=null){var _0xc09f75=_0x330674,_0xbba270;isSendingMessage||(_0xbba270=inputField[_0xc09f75(0x18f)])[_0xc09f75(0x179)]()&&(inputField['value']='',isSendingMessage=!0x0,_0xc09f75(0x189)===_0x47a642?socket[_0xc09f75(0x19a)](_0xc09f75(0x15b),{'content':_0xbba270,'isGif':!0x1}):_0xc09f75(0x19f)===_0x47a642&&_0x452096&&socket[_0xc09f75(0x19a)](_0xc09f75(0x15b),{'content':_0x452096,'isGif':!0x0}),setTimeout(()=>{isSendingMessage=!0x1;},0x64));}function _0x30a3(_0x415f14,_0x346e31){var _0x30fe72=_0x30fe();return _0x30a3=function(_0x30a392,_0x540f92){_0x30a392=_0x30a392-0x15b;var _0x12c326=_0x30fe72[_0x30a392];return _0x12c326;},_0x30a3(_0x415f14,_0x346e31);}function displayMessage(_0x16484f,_0x50c8d5=!0x0){var _0xac7182=_0x330674,_0x294acb,_0x47b189;_0x50c8d5&&''===_0x16484f['content'][_0xac7182(0x179)]()||((_0x294acb=document[_0xac7182(0x1a1)]('div'))[_0xac7182(0x1a0)][_0xac7182(0x18d)](_0xac7182(0x192)),_0x294acb[_0xac7182(0x1a0)][_0xac7182(0x18d)](getMessageClass(_0x16484f[_0xac7182(0x194)])),(_0x47b189=document['createElement']('p'))[_0xac7182(0x1a0)][_0xac7182(0x18d)](addUsername(_0x16484f[_0xac7182(0x194)])),_0x47b189['textContent']=_0x16484f['sender']+_0xac7182(0x170)+getFormattedTimestamp(_0x16484f[_0xac7182(0x17d)]),chatBox[_0xac7182(0x19b)](_0x47b189),_0x16484f[_0xac7182(0x15d)]?((_0x47b189=document['createElement'](_0xac7182(0x1ab)))[_0xac7182(0x1a2)]=_0x16484f[_0xac7182(0x1a8)],_0x50c8d5&&_0x47b189['classList']['add'](_0xac7182(0x15c)),_0x47b189[_0xac7182(0x186)]('data-gif',_0x16484f[_0xac7182(0x1a8)]),_0x47b189[_0xac7182(0x168)](_0xac7182(0x167),function(){var _0x458f18=_0xac7182;this[_0x458f18(0x1a0)][_0x458f18(0x199)]('sent-gif')||(sendGifMessage(this[_0x458f18(0x177)](_0x458f18(0x176))),closeGifMenu());}),_0x294acb['appendChild'](_0x47b189)):_0x294acb['textContent']=_0x16484f[_0xac7182(0x1a8)],chatBox[_0xac7182(0x19b)](_0x294acb));}function getMessageClass(_0x5efb9e){var _0x14978b=_0x330674;return _0x5efb9e===username?_0x14978b(0x175):_0x14978b(0x171);}function addUsername(_0x1cf874){var _0x2f1dee=_0x330674;return _0x1cf874===username?_0x2f1dee(0x17f):_0x2f1dee(0x160);}function getFormattedTimestamp(_0x19447c){var _0x280423=_0x330674;return _0x19447c=new Date(_0x19447c),_0x19447c['getHours']()['toString']()[_0x280423(0x18b)](0x2,'0')+':'+_0x19447c[_0x280423(0x188)]()[_0x280423(0x174)]()[_0x280423(0x18b)](0x2,'0');}function scrollToBottom(){var _0x146ce6=_0x330674,_0x563fbb=chatBox['lastElementChild'];_0x563fbb&&_0x563fbb[_0x146ce6(0x15f)]({'behavior':_0x146ce6(0x19e)});}function getGifs(){var _0xcc7ddd=_0x330674;fetch('/api/api-key')[_0xcc7ddd(0x16c)](_0x29b61a=>_0x29b61a[_0xcc7ddd(0x18e)]())[_0xcc7ddd(0x16c)](_0x361d06=>{var _0x5b21b4=_0xcc7ddd,_0x361d06=_0x361d06[_0x5b21b4(0x181)],_0x1dce98=document[_0x5b21b4(0x172)](_0x5b21b4(0x193))['value'];fetch(_0x5b21b4(0x19c)+_0x1dce98+_0x5b21b4(0x191)+_0x361d06+_0x5b21b4(0x16a))[_0x5b21b4(0x16c)](_0x25c352=>_0x25c352[_0x5b21b4(0x18e)]())[_0x5b21b4(0x16c)](_0x5d07ad=>{var _0x26fa66=_0x5b21b4,_0x23866b=document['getElementById']('gifContainer');_0x23866b['innerHTML']='';for(let _0x5b2a39=0x0;_0x5b2a39<_0x5d07ad[_0x26fa66(0x1aa)][_0x26fa66(0x16d)];_0x5b2a39++){var _0x223955=_0x5d07ad[_0x26fa66(0x1aa)][_0x5b2a39][_0x26fa66(0x198)][_0x26fa66(0x16b)][_0x26fa66(0x1a5)],_0xded221=document[_0x26fa66(0x1a1)](_0x26fa66(0x1ab));_0xded221[_0x26fa66(0x1a2)]=_0x223955,_0xded221[_0x26fa66(0x186)]('data-gif',_0x223955),_0xded221['addEventListener']('click',function(){var _0x3a419e=_0x26fa66;sendGifMessage(this[_0x3a419e(0x177)](_0x3a419e(0x176)));}),_0x23866b[_0x26fa66(0x19b)](_0xded221);}})[_0x5b21b4(0x178)](_0x1760e9=>{console['log'](_0x1760e9);});})['catch'](_0x2d7238=>{var _0x47b165=_0xcc7ddd;console[_0x47b165(0x195)](_0x47b165(0x184),_0x2d7238);});}function sendGifMessage(_0x2ed042){var _0x3a1706=_0x330674;socket[_0x3a1706(0x19a)](_0x3a1706(0x15b),{'content':_0x2ed042,'isGif':!0x0}),closeGifMenu(),gifHide['classList'][_0x3a1706(0x196)]('showInput'),searchInput[_0x3a1706(0x1a0)][_0x3a1706(0x196)](_0x3a1706(0x197)),searchGif[_0x3a1706(0x1a0)][_0x3a1706(0x196)](_0x3a1706(0x197)),searchInput[_0x3a1706(0x18f)]='';}function closeGifMenu(){var _0xabda0b=_0x330674;document['getElementById'](_0xabda0b(0x1a3))[_0xabda0b(0x16e)]='';}form[_0x330674(0x168)](_0x330674(0x173),_0x45a71e=>{var _0x111c75=_0x330674;_0x45a71e[_0x111c75(0x17e)]();}),_0x330674(0x183)!==fallbackMessage[_0x330674(0x169)]['display']&&(fallbackMessage['style'][_0x330674(0x1a7)]=_0x330674(0x183)),socket['on'](_0x330674(0x18a),()=>{var _0x9b3b1e=_0x330674;console[_0x9b3b1e(0x195)](_0x9b3b1e(0x15e));}),socket['on'](_0x330674(0x15b),_0x51b7d6=>{displayMessage(_0x51b7d6),setTimeout(scrollToBottom,0x64);}),socket['on']('chatHistory',_0x4dd988=>{_0x4dd988['forEach'](_0x3c26db=>{displayMessage(_0x3c26db);}),setTimeout(scrollToBottom,0x64);}),socket['on'](_0x330674(0x17c),_0x5ae2e5=>{username=_0x5ae2e5;}),sendButton['addEventListener'](_0x330674(0x167),()=>{var _0x23a662=_0x330674;sendMessage(_0x23a662(0x189));}),inputField[_0x330674(0x168)](_0x330674(0x16f),_0x53392a=>{var _0x59268c=_0x330674;_0x59268c(0x1a6)===_0x53392a[_0x59268c(0x165)]&&sendMessage(_0x59268c(0x189));});const gifBar=()=>{var _0x4e377d=_0x330674;_0x4e377d(0x183)===getComputedStyle(gifHide)['display']?gifHide['classList']['add'](_0x4e377d(0x180)):gifHide[_0x4e377d(0x1a0)][_0x4e377d(0x196)]('showInput');};gifButton[_0x330674(0x168)](_0x330674(0x167),gifBar),searchGif[_0x330674(0x168)](_0x330674(0x167),()=>{var _0x24ccfe=_0x330674;searchInput['classList'][_0x24ccfe(0x18d)](_0x24ccfe(0x197)),searchGif['classList'][_0x24ccfe(0x18d)](_0x24ccfe(0x197));}),searchGif[_0x330674(0x168)](_0x330674(0x167),()=>{getGifs();});