var _0x37ba82=_0x57a8;function _0x57a8(_0x27b002,_0x4ab0c2){var _0x23ce88=_0x23ce();return _0x57a8=function(_0x57a827,_0x466dd4){_0x57a827=_0x57a827-0x1d2;var _0x29907b=_0x23ce88[_0x57a827];return _0x29907b;},_0x57a8(_0x27b002,_0x4ab0c2);}(function(_0x373ead,_0x386a65){var _0x16cdfa=_0x57a8,_0x2f7561=_0x373ead();while(!![]){try{var _0x532ef7=parseInt(_0x16cdfa(0x1ef))/0x1*(parseInt(_0x16cdfa(0x206))/0x2)+-parseInt(_0x16cdfa(0x1e3))/0x3+parseInt(_0x16cdfa(0x1dc))/0x4+-parseInt(_0x16cdfa(0x1fc))/0x5+-parseInt(_0x16cdfa(0x1e8))/0x6+-parseInt(_0x16cdfa(0x209))/0x7+parseInt(_0x16cdfa(0x1e9))/0x8;if(_0x532ef7===_0x386a65)break;else _0x2f7561['push'](_0x2f7561['shift']());}catch(_0x2c8dac){_0x2f7561['push'](_0x2f7561['shift']());}}}(_0x23ce,0x9c547));const inputField=document[_0x37ba82(0x216)]('.input-field'),sendButton=document[_0x37ba82(0x216)](_0x37ba82(0x1dd)),chatBox=document[_0x37ba82(0x216)]('.chat-box'),fallbackMessage=document[_0x37ba82(0x216)](_0x37ba82(0x21c)),searchGif=document[_0x37ba82(0x216)](_0x37ba82(0x1fe)),gifButton=document['querySelector'](_0x37ba82(0x1ed)),gifHide=document[_0x37ba82(0x216)](_0x37ba82(0x208)),searchInput=document['getElementById']('searchInput'),form=document[_0x37ba82(0x1f0)](_0x37ba82(0x1ec)),errorMessage=document[_0x37ba82(0x216)](_0x37ba82(0x1d7)),socket=(errorMessage[_0x37ba82(0x20a)][_0x37ba82(0x20e)]=_0x37ba82(0x1d4),io());let isSendingMessage=!0x1,username;function sendMessage(_0x44f42c,_0xf862eb=null){var _0x5536bd=_0x37ba82,_0xc92f21;isSendingMessage||(_0xc92f21=inputField['value'])[_0x5536bd(0x210)]()&&(inputField[_0x5536bd(0x21a)]='',isSendingMessage=!0x0,_0x5536bd(0x220)===_0x44f42c?socket['emit'](_0x5536bd(0x1f6),{'content':_0xc92f21,'isGif':!0x1}):_0x5536bd(0x20c)===_0x44f42c&&_0xf862eb&&socket[_0x5536bd(0x1f7)](_0x5536bd(0x1f6),{'content':_0xf862eb,'isGif':!0x0}),setTimeout(()=>{isSendingMessage=!0x1;},0x64));}function _0x23ce(){var _0xc92bd9=['chat-bubble','click','appendChild','textContent','5115488tMogXr','.send-button','length','&api_key=','/api/api-key','log','sent-gif','3258540MteNue','showInput','setAttribute','loggedInUser','submit','1049154jbHEjv','11327048Wjtmsp','fixed_width','catch','input-form','.gif-button','div','12434ZuQfnP','getElementById','json','contains','add','right-bubble','left-bubble','message','emit','https://api.giphy.com/v1/gifs/search?q=','Connected\x20to\x20server','active','classList','4883675KnSVvg','images','.searchGif','gifContainer','Enter','addEventListener','content','data','data-gif','apiKey','200pPdkkP','Fout\x20bij\x20het\x20ophalen\x20van\x20de\x20API_KEY:','.gifHide','7420364uzAkyP','style','padStart','gif','smooth','display','isGif','trim','chatHistory','searchInput','toString','then','username','querySelector','\x20-\x20','getAttribute','src','value','connect','.fallback-message','remove','sender','forEach','text','timestamp','lastElementChild','none','keypress','createElement','.error-message'];_0x23ce=function(){return _0xc92bd9;};return _0x23ce();}function displayMessage(_0x5ad505,_0x21dd7a=!0x0){var _0x3723fd=_0x37ba82,_0x32d542,_0x1980a8;_0x21dd7a&&''===_0x5ad505[_0x3723fd(0x202)][_0x3723fd(0x210)]()||((_0x32d542=document[_0x3723fd(0x1d6)](_0x3723fd(0x1ee)))['classList']['add'](_0x3723fd(0x1d8)),_0x32d542[_0x3723fd(0x1fb)]['add'](getMessageClass(_0x5ad505['sender'])),(_0x1980a8=document['createElement']('p'))[_0x3723fd(0x1fb)][_0x3723fd(0x1f3)](addUsername(_0x5ad505[_0x3723fd(0x21e)])),_0x1980a8[_0x3723fd(0x1db)]=_0x5ad505[_0x3723fd(0x21e)]+_0x3723fd(0x217)+getFormattedTimestamp(_0x5ad505[_0x3723fd(0x1d2)]),chatBox[_0x3723fd(0x1da)](_0x1980a8),_0x5ad505[_0x3723fd(0x20f)]?((_0x1980a8=document[_0x3723fd(0x1d6)]('img'))[_0x3723fd(0x219)]=_0x5ad505[_0x3723fd(0x202)],_0x21dd7a&&_0x1980a8[_0x3723fd(0x1fb)]['add']('sent-gif'),_0x1980a8[_0x3723fd(0x1e5)](_0x3723fd(0x204),_0x5ad505['content']),_0x1980a8[_0x3723fd(0x201)](_0x3723fd(0x1d9),function(){var _0xbf5023=_0x3723fd;this['classList'][_0xbf5023(0x1f2)](_0xbf5023(0x1e2))||(sendGifMessage(this[_0xbf5023(0x218)](_0xbf5023(0x204))),closeGifMenu());}),_0x32d542[_0x3723fd(0x1da)](_0x1980a8)):_0x32d542[_0x3723fd(0x1db)]=_0x5ad505[_0x3723fd(0x202)],chatBox[_0x3723fd(0x1da)](_0x32d542));}function getMessageClass(_0x5740fa){var _0x5c2aeb=_0x37ba82;return _0x5740fa===username?_0x5c2aeb(0x1f4):_0x5c2aeb(0x1f5);}function addUsername(_0x28d82e){var _0x4e380c=_0x37ba82;return _0x28d82e===username?'username-me':_0x4e380c(0x215);}function getFormattedTimestamp(_0x2cdeca){var _0x5a87a5=_0x37ba82;return _0x2cdeca=new Date(_0x2cdeca),_0x2cdeca['getHours']()[_0x5a87a5(0x213)]()[_0x5a87a5(0x20b)](0x2,'0')+':'+_0x2cdeca['getMinutes']()[_0x5a87a5(0x213)]()[_0x5a87a5(0x20b)](0x2,'0');}function scrollToBottom(){var _0x1b7f88=_0x37ba82,_0x39a296=chatBox[_0x1b7f88(0x1d3)];_0x39a296&&_0x39a296['scrollIntoView']({'behavior':_0x1b7f88(0x20d)});}function getGifs(){var _0x26d9a2=_0x37ba82;fetch(_0x26d9a2(0x1e0))['then'](_0x26cb26=>_0x26cb26[_0x26d9a2(0x1f1)]())[_0x26d9a2(0x214)](_0x190dd8=>{var _0x482ff6=_0x26d9a2,_0x190dd8=_0x190dd8[_0x482ff6(0x205)],_0x3d7e99=document[_0x482ff6(0x1f0)](_0x482ff6(0x212))[_0x482ff6(0x21a)];fetch(_0x482ff6(0x1f8)+_0x3d7e99+_0x482ff6(0x1df)+_0x190dd8+'&limit20')['then'](_0x2038e3=>_0x2038e3[_0x482ff6(0x1f1)]())['then'](_0x4c02c8=>{var _0x66d256=_0x482ff6,_0x1030b7=document[_0x66d256(0x1f0)]('gifContainer');_0x1030b7['innerHTML']='',0x0===_0x4c02c8['data'][_0x66d256(0x1de)]?errorMessage['style'][_0x66d256(0x20e)]='block':errorMessage[_0x66d256(0x20a)][_0x66d256(0x20e)]=_0x66d256(0x1d4);for(let _0x32f8b7=0x0;_0x32f8b7<_0x4c02c8[_0x66d256(0x203)][_0x66d256(0x1de)];_0x32f8b7++){var _0x25f59b=_0x4c02c8['data'][_0x32f8b7][_0x66d256(0x1fd)][_0x66d256(0x1ea)]['url'],_0x17c8f3=document['createElement']('img');_0x17c8f3[_0x66d256(0x219)]=_0x25f59b,_0x17c8f3[_0x66d256(0x1e5)](_0x66d256(0x204),_0x25f59b),_0x17c8f3['addEventListener'](_0x66d256(0x1d9),function(){var _0x32d265=_0x66d256;sendGifMessage(this['getAttribute'](_0x32d265(0x204)));}),_0x1030b7[_0x66d256(0x1da)](_0x17c8f3);}})[_0x482ff6(0x1eb)](_0x21e2fd=>{var _0x5db1b6=_0x482ff6;console[_0x5db1b6(0x1e1)](_0x21e2fd);});})[_0x26d9a2(0x1eb)](_0x485f4f=>{var _0x496bbd=_0x26d9a2;console['log'](_0x496bbd(0x207),_0x485f4f);});}function sendGifMessage(_0x3c1d68){var _0x276318=_0x37ba82;socket[_0x276318(0x1f7)](_0x276318(0x1f6),{'content':_0x3c1d68,'isGif':!0x0}),closeGifMenu(),gifHide[_0x276318(0x1fb)][_0x276318(0x21d)](_0x276318(0x1e4)),searchInput[_0x276318(0x1fb)][_0x276318(0x21d)]('active'),searchGif['classList'][_0x276318(0x21d)](_0x276318(0x1fa)),searchInput[_0x276318(0x21a)]='';}function closeGifMenu(){var _0x5a445e=_0x37ba82;document[_0x5a445e(0x1f0)](_0x5a445e(0x1ff))['innerHTML']='';}form[_0x37ba82(0x201)](_0x37ba82(0x1e7),_0xbccd89=>{_0xbccd89['preventDefault']();}),'none'!==fallbackMessage[_0x37ba82(0x20a)]['display']&&(fallbackMessage[_0x37ba82(0x20a)][_0x37ba82(0x20e)]=_0x37ba82(0x1d4)),socket['on'](_0x37ba82(0x21b),()=>{var _0xe02274=_0x37ba82;console[_0xe02274(0x1e1)](_0xe02274(0x1f9));}),socket['on'](_0x37ba82(0x1f6),_0xbfe1f5=>{displayMessage(_0xbfe1f5),setTimeout(scrollToBottom,0x64);}),socket['on'](_0x37ba82(0x211),_0x5c3ef6=>{var _0x371203=_0x37ba82;_0x5c3ef6[_0x371203(0x21f)](_0x1f7c0c=>{displayMessage(_0x1f7c0c);}),setTimeout(scrollToBottom,0x64);}),socket['on'](_0x37ba82(0x1e6),_0x30c8c9=>{username=_0x30c8c9;}),sendButton[_0x37ba82(0x201)](_0x37ba82(0x1d9),()=>{var _0x5b5d5e=_0x37ba82;sendMessage(_0x5b5d5e(0x220));}),inputField[_0x37ba82(0x201)](_0x37ba82(0x1d5),_0x14dfe3=>{var _0x30e8c3=_0x37ba82;_0x30e8c3(0x200)===_0x14dfe3['key']&&sendMessage(_0x30e8c3(0x220));});const gifBar=()=>{var _0x2db92f=_0x37ba82;_0x2db92f(0x1d4)===getComputedStyle(gifHide)[_0x2db92f(0x20e)]?gifHide['classList'][_0x2db92f(0x1f3)]('showInput'):gifHide[_0x2db92f(0x1fb)][_0x2db92f(0x21d)](_0x2db92f(0x1e4));};gifButton[_0x37ba82(0x201)](_0x37ba82(0x1d9),gifBar),searchGif[_0x37ba82(0x201)](_0x37ba82(0x1d9),()=>{var _0x5c514c=_0x37ba82;searchInput[_0x5c514c(0x1fb)]['add']('active'),searchGif['classList'][_0x5c514c(0x1f3)](_0x5c514c(0x1fa));}),searchGif[_0x37ba82(0x201)](_0x37ba82(0x1d9),()=>{getGifs();});