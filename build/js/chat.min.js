var _0x3faed3=_0x289f;(function(_0xe12093,_0x58ef99){var _0x3c43d3=_0x289f,_0x47eacd=_0xe12093();while(!![]){try{var _0xabee9c=parseInt(_0x3c43d3(0xe8))/0x1+-parseInt(_0x3c43d3(0x12b))/0x2+-parseInt(_0x3c43d3(0x11f))/0x3*(-parseInt(_0x3c43d3(0xf1))/0x4)+parseInt(_0x3c43d3(0xf6))/0x5+-parseInt(_0x3c43d3(0xfe))/0x6+parseInt(_0x3c43d3(0x125))/0x7*(parseInt(_0x3c43d3(0x12e))/0x8)+-parseInt(_0x3c43d3(0xfc))/0x9;if(_0xabee9c===_0x58ef99)break;else _0x47eacd['push'](_0x47eacd['shift']());}catch(_0x438247){_0x47eacd['push'](_0x47eacd['shift']());}}}(_0xf4c5,0x61851));function _0x289f(_0x275289,_0x576cdb){var _0xf4c5d8=_0xf4c5();return _0x289f=function(_0x289f47,_0x319b25){_0x289f47=_0x289f47-0xe6;var _0x45228f=_0xf4c5d8[_0x289f47];return _0x45228f;},_0x289f(_0x275289,_0x576cdb);}const inputField=document['querySelector']('.input-field'),sendButton=document[_0x3faed3(0x126)]('.send-button'),chatBox=document[_0x3faed3(0x126)]('.chat-box'),fallbackMessage=document[_0x3faed3(0x126)](_0x3faed3(0x104)),searchGif=document[_0x3faed3(0x126)]('.searchGif'),gifButton=document['querySelector']('.gif-button'),gifHide=document[_0x3faed3(0x126)](_0x3faed3(0x110)),searchInput=document[_0x3faed3(0x111)](_0x3faed3(0x12f)),form=document['getElementById'](_0x3faed3(0x112)),errorMessage=document['querySelector'](_0x3faed3(0xf2)),socket=(errorMessage[_0x3faed3(0xef)][_0x3faed3(0x11a)]=_0x3faed3(0x116),io());function _0xf4c5(){var _0x366c06=['gifContainer','message','connect','url','sender','95111iZFKpm','content','forEach','remove','json','&api_key=','catch','style','appendChild','4kMxDIq','.error-message','addEventListener','img','getMinutes','3932160DpWrCx','right-bubble','classList','log','value','preventDefault','543717YHYfyv','chat-bubble','4322748aIwYzV','timestamp','then','username','setAttribute','active','.fallback-message','textContent','data-gif','apiKey','length','createElement','click','https://api.giphy.com/v1/gifs/search?q=','Fout\x20bij\x20het\x20ophalen\x20van\x20de\x20API_KEY:','submit','text','emit','.gifHide','getElementById','input-form','\x20-\x20','images','lastElementChild','none','getAttribute','loggedInUser','keypress','display','username-me','block','src','showInput','979635YFWxQR','chatHistory','div','/api/api-key','trim','padStart','21AUDrBG','querySelector','contains','sent-gif','add','toString','1046578UTjwkv','data','innerHTML','1321368FhtYFY','searchInput'];_0xf4c5=function(){return _0x366c06;};return _0xf4c5();}let isSendingMessage=!0x1,username;function sendMessage(_0x2f9e36,_0x4bbba0=null){var _0x1bd297=_0x3faed3,_0x45db46;isSendingMessage||(_0x45db46=inputField['value'])[_0x1bd297(0x123)]()&&(inputField['value']='',isSendingMessage=!0x0,_0x1bd297(0x10e)===_0x2f9e36?socket[_0x1bd297(0x10f)]('message',{'content':_0x45db46,'isGif':!0x1}):'gif'===_0x2f9e36&&_0x4bbba0&&socket[_0x1bd297(0x10f)](_0x1bd297(0x131),{'content':_0x4bbba0,'isGif':!0x0}),setTimeout(()=>{isSendingMessage=!0x1;},0x64));}function displayMessage(_0x21975a,_0x10bf14=!0x0){var _0x3e69d0=_0x3faed3,_0x2be5e5,_0x2e050f;_0x10bf14&&''===_0x21975a[_0x3e69d0(0xe9)]['trim']()||((_0x2be5e5=document[_0x3e69d0(0x109)](_0x3e69d0(0x121)))['classList'][_0x3e69d0(0x129)](_0x3e69d0(0xfd)),_0x2be5e5['classList']['add'](getMessageClass(_0x21975a[_0x3e69d0(0xe7)])),(_0x2e050f=document[_0x3e69d0(0x109)]('p'))[_0x3e69d0(0xf8)]['add'](addUsername(_0x21975a['sender'])),_0x2e050f[_0x3e69d0(0x105)]=_0x21975a[_0x3e69d0(0xe7)]+_0x3e69d0(0x113)+getFormattedTimestamp(_0x21975a[_0x3e69d0(0xff)]),chatBox[_0x3e69d0(0xf0)](_0x2e050f),_0x21975a['isGif']?((_0x2e050f=document[_0x3e69d0(0x109)](_0x3e69d0(0xf4)))[_0x3e69d0(0x11d)]=_0x21975a['content'],_0x10bf14&&_0x2e050f[_0x3e69d0(0xf8)]['add']('sent-gif'),_0x2e050f[_0x3e69d0(0x102)](_0x3e69d0(0x106),_0x21975a['content']),_0x2e050f[_0x3e69d0(0xf3)](_0x3e69d0(0x10a),function(){var _0x2de4c=_0x3e69d0;this[_0x2de4c(0xf8)][_0x2de4c(0x127)](_0x2de4c(0x128))||(sendGifMessage(this[_0x2de4c(0x117)]('data-gif')),closeGifMenu());}),_0x2be5e5[_0x3e69d0(0xf0)](_0x2e050f)):_0x2be5e5[_0x3e69d0(0x105)]=_0x21975a[_0x3e69d0(0xe9)],chatBox[_0x3e69d0(0xf0)](_0x2be5e5));}function getMessageClass(_0x461b87){var _0x1ff711=_0x3faed3;return _0x461b87===username?_0x1ff711(0xf7):'left-bubble';}function addUsername(_0x15cb83){var _0x3f4542=_0x3faed3;return _0x15cb83===username?_0x3f4542(0x11b):_0x3f4542(0x101);}function getFormattedTimestamp(_0x5223fe){var _0x102762=_0x3faed3;return _0x5223fe=new Date(_0x5223fe),_0x5223fe['getHours']()[_0x102762(0x12a)]()[_0x102762(0x124)](0x2,'0')+':'+_0x5223fe[_0x102762(0xf5)]()[_0x102762(0x12a)]()[_0x102762(0x124)](0x2,'0');}function scrollToBottom(){var _0x5c142a=_0x3faed3,_0x60adea=chatBox[_0x5c142a(0x115)];_0x60adea&&_0x60adea['scrollIntoView']({'behavior':'smooth'});}function getGifs(){var _0x22d02d=_0x3faed3;fetch(_0x22d02d(0x122))[_0x22d02d(0x100)](_0x1a2a12=>_0x1a2a12[_0x22d02d(0xec)]())['then'](_0x2ed54c=>{var _0x35c87f=_0x22d02d,_0x2ed54c=_0x2ed54c[_0x35c87f(0x107)],_0x32a408=document[_0x35c87f(0x111)](_0x35c87f(0x12f))[_0x35c87f(0xfa)];fetch(_0x35c87f(0x10b)+_0x32a408+_0x35c87f(0xed)+_0x2ed54c+'&limit20')[_0x35c87f(0x100)](_0x213d76=>_0x213d76[_0x35c87f(0xec)]())['then'](_0x2e59e4=>{var _0x4ac9b7=_0x35c87f,_0x5c59ce=document[_0x4ac9b7(0x111)](_0x4ac9b7(0x130));_0x5c59ce[_0x4ac9b7(0x12d)]='',0x0===_0x2e59e4[_0x4ac9b7(0x12c)][_0x4ac9b7(0x108)]?errorMessage['style'][_0x4ac9b7(0x11a)]=_0x4ac9b7(0x11c):errorMessage[_0x4ac9b7(0xef)][_0x4ac9b7(0x11a)]='none';for(let _0x2617db=0x0;_0x2617db<_0x2e59e4[_0x4ac9b7(0x12c)][_0x4ac9b7(0x108)];_0x2617db++){var _0x395eea=_0x2e59e4['data'][_0x2617db][_0x4ac9b7(0x114)]['fixed_width'][_0x4ac9b7(0xe6)],_0x3a1be5=document['createElement'](_0x4ac9b7(0xf4));_0x3a1be5[_0x4ac9b7(0x11d)]=_0x395eea,_0x3a1be5[_0x4ac9b7(0x102)](_0x4ac9b7(0x106),_0x395eea),_0x3a1be5[_0x4ac9b7(0xf3)](_0x4ac9b7(0x10a),function(){var _0x1dbcd9=_0x4ac9b7;sendGifMessage(this[_0x1dbcd9(0x117)](_0x1dbcd9(0x106)));}),_0x5c59ce[_0x4ac9b7(0xf0)](_0x3a1be5);}})[_0x35c87f(0xee)](_0x35ec57=>{var _0x483ac7=_0x35c87f;console[_0x483ac7(0xf9)](_0x35ec57);});})['catch'](_0x2907eb=>{var _0x274a83=_0x22d02d;console[_0x274a83(0xf9)](_0x274a83(0x10c),_0x2907eb);});}function sendGifMessage(_0x555c32){var _0x337997=_0x3faed3;socket[_0x337997(0x10f)]('message',{'content':_0x555c32,'isGif':!0x0}),closeGifMenu(),gifHide['classList'][_0x337997(0xeb)](_0x337997(0x11e)),searchInput[_0x337997(0xf8)][_0x337997(0xeb)](_0x337997(0x103)),searchGif[_0x337997(0xf8)]['remove'](_0x337997(0x103)),searchInput['value']='';}function closeGifMenu(){var _0x204746=_0x3faed3;document[_0x204746(0x111)](_0x204746(0x130))[_0x204746(0x12d)]='';}form[_0x3faed3(0xf3)](_0x3faed3(0x10d),_0x364f41=>{var _0x43c220=_0x3faed3;_0x364f41[_0x43c220(0xfb)]();}),_0x3faed3(0x116)!==fallbackMessage[_0x3faed3(0xef)][_0x3faed3(0x11a)]&&(fallbackMessage[_0x3faed3(0xef)][_0x3faed3(0x11a)]='none'),socket['on'](_0x3faed3(0x132),()=>{var _0x2bc732=_0x3faed3;console[_0x2bc732(0xf9)]('Connected\x20to\x20server');}),socket['on'](_0x3faed3(0x131),_0x37240f=>{displayMessage(_0x37240f),setTimeout(scrollToBottom,0x64);}),socket['on'](_0x3faed3(0x120),_0x207b0a=>{var _0x124c61=_0x3faed3;_0x207b0a[_0x124c61(0xea)](_0x3663a1=>{displayMessage(_0x3663a1);}),setTimeout(scrollToBottom,0x64);}),socket['on'](_0x3faed3(0x118),_0x3b76b9=>{username=_0x3b76b9;}),sendButton[_0x3faed3(0xf3)](_0x3faed3(0x10a),()=>{var _0x16bbff=_0x3faed3;sendMessage(_0x16bbff(0x10e));}),inputField[_0x3faed3(0xf3)](_0x3faed3(0x119),_0x4709fe=>{var _0x29bf13=_0x3faed3;'Enter'===_0x4709fe['key']&&sendMessage(_0x29bf13(0x10e));});const gifBar=()=>{var _0x250f29=_0x3faed3;'none'===getComputedStyle(gifHide)[_0x250f29(0x11a)]?gifHide['classList'][_0x250f29(0x129)](_0x250f29(0x11e)):gifHide[_0x250f29(0xf8)][_0x250f29(0xeb)](_0x250f29(0x11e));};gifButton[_0x3faed3(0xf3)]('click',gifBar),searchGif['addEventListener']('click',()=>{var _0x582923=_0x3faed3;searchInput[_0x582923(0xf8)][_0x582923(0x129)](_0x582923(0x103)),searchGif[_0x582923(0xf8)][_0x582923(0x129)]('active');}),searchGif[_0x3faed3(0xf3)](_0x3faed3(0x10a),()=>{getGifs();});