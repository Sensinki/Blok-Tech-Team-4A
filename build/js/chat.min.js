var _0x3711a=_0x290c;(function(_0x39a0f8,_0x26efd){var _0x39658d=_0x290c,_0x4eac4e=_0x39a0f8();while(!![]){try{var _0x5482d9=-parseInt(_0x39658d(0x13c))/0x1*(parseInt(_0x39658d(0x149))/0x2)+-parseInt(_0x39658d(0x10d))/0x3*(parseInt(_0x39658d(0x10c))/0x4)+-parseInt(_0x39658d(0x123))/0x5+parseInt(_0x39658d(0x125))/0x6*(parseInt(_0x39658d(0x118))/0x7)+parseInt(_0x39658d(0x13d))/0x8*(-parseInt(_0x39658d(0x11b))/0x9)+-parseInt(_0x39658d(0x114))/0xa+parseInt(_0x39658d(0x140))/0xb;if(_0x5482d9===_0x26efd)break;else _0x4eac4e['push'](_0x4eac4e['shift']());}catch(_0x43fee4){_0x4eac4e['push'](_0x4eac4e['shift']());}}}(_0x3fe2,0x3f91b));const inputField=document[_0x3711a(0x14d)](_0x3711a(0x14b)),sendButton=document[_0x3711a(0x14d)](_0x3711a(0x11c)),chatBox=document[_0x3711a(0x14d)]('.chat-box'),fallbackMessage=document[_0x3711a(0x14d)](_0x3711a(0x13e)),searchGif=document[_0x3711a(0x14d)](_0x3711a(0x14c)),gifButton=document[_0x3711a(0x14d)](_0x3711a(0x110)),gifHide=document['querySelector'](_0x3711a(0x139)),searchInput=document[_0x3711a(0x151)]('searchInput'),form=document[_0x3711a(0x151)]('input-form'),socket=io();let isSendingMessage=!0x1,username;function sendMessage(_0x46ee52,_0x2e4943=null){var _0x100e70=_0x3711a,_0x1afe28;isSendingMessage||(_0x1afe28=inputField[_0x100e70(0x12f)])['trim']()&&(inputField[_0x100e70(0x12f)]='',isSendingMessage=!0x0,_0x100e70(0x157)===_0x46ee52?socket['emit'](_0x100e70(0x150),{'content':_0x1afe28,'isGif':!0x1}):_0x100e70(0x122)===_0x46ee52&&_0x2e4943&&socket[_0x100e70(0x14e)]('message',{'content':_0x2e4943,'isGif':!0x0}),setTimeout(()=>{isSendingMessage=!0x1;},0x64));}function displayMessage(_0x37d40b,_0x17476e=!0x0){var _0x17ad40=_0x3711a,_0x104053,_0x5d86f9;_0x17476e&&''===_0x37d40b['content'][_0x17ad40(0x113)]()||((_0x104053=document[_0x17ad40(0x14a)](_0x17ad40(0x154)))[_0x17ad40(0x137)]['add'](_0x17ad40(0x145)),_0x104053[_0x17ad40(0x137)][_0x17ad40(0x124)](getMessageClass(_0x37d40b[_0x17ad40(0x133)])),(_0x5d86f9=document[_0x17ad40(0x14a)]('p'))[_0x17ad40(0x137)][_0x17ad40(0x124)](addUsername(_0x37d40b['sender'])),_0x5d86f9[_0x17ad40(0x142)]=_0x37d40b[_0x17ad40(0x133)]+_0x17ad40(0x115)+getFormattedTimestamp(_0x37d40b[_0x17ad40(0x143)]),chatBox['appendChild'](_0x5d86f9),_0x37d40b[_0x17ad40(0x111)]?((_0x5d86f9=document['createElement'](_0x17ad40(0x11e)))[_0x17ad40(0x12b)]=_0x37d40b[_0x17ad40(0x126)],_0x17476e&&_0x5d86f9[_0x17ad40(0x137)][_0x17ad40(0x124)](_0x17ad40(0x136)),_0x5d86f9['setAttribute'](_0x17ad40(0x147),_0x37d40b[_0x17ad40(0x126)]),_0x5d86f9[_0x17ad40(0x131)]('click',function(){var _0x42dd82=_0x17ad40;this[_0x42dd82(0x137)][_0x42dd82(0x135)]('sent-gif')||(sendGifMessage(this[_0x42dd82(0x13f)](_0x42dd82(0x147))),closeGifMenu());}),_0x104053[_0x17ad40(0x117)](_0x5d86f9)):_0x104053[_0x17ad40(0x142)]=_0x37d40b[_0x17ad40(0x126)],chatBox[_0x17ad40(0x117)](_0x104053));}function getMessageClass(_0x5af98f){var _0xe14a1d=_0x3711a;return _0x5af98f===username?_0xe14a1d(0x132):_0xe14a1d(0x10f);}function addUsername(_0x20cd62){var _0x1f239a=_0x3711a;return _0x20cd62===username?'username-me':_0x1f239a(0x10b);}function getFormattedTimestamp(_0x28c3c8){var _0xe00345=_0x3711a;return _0x28c3c8=new Date(_0x28c3c8),_0x28c3c8['getHours']()[_0xe00345(0x11a)]()['padStart'](0x2,'0')+':'+_0x28c3c8['getMinutes']()['toString']()[_0xe00345(0x128)](0x2,'0');}function scrollToBottom(){var _0x74e67d=_0x3711a,_0x2f635d=chatBox[_0x74e67d(0x12d)];_0x2f635d&&_0x2f635d[_0x74e67d(0x13a)]({'behavior':'smooth'});}function _0x3fe2(){var _0x48baa2=['contains','sent-gif','classList','active','.gifHide','scrollIntoView','then','11nJIqkX','8bKWBQw','.fallback-message','getAttribute','13820741nrBffX','&api_key=','textContent','timestamp','fixed_width','chat-bubble','Enter','data-gif','click','52500iQGTkt','createElement','.input-field','.searchGif','querySelector','emit','none','message','getElementById','https://api.giphy.com/v1/gifs/search?q=','catch','div','searchInput','chatHistory','text','username','10300dDEMtW','351ioOykl','style','left-bubble','.gif-button','isGif','json','trim','4609200XpulQO','\x20-\x20','setAttribute','appendChild','1821421sdZnzt','Fout\x20bij\x20het\x20ophalen\x20van\x20de\x20API_KEY:','toString','4052655VmMLsY','.send-button','url','img','connect','gifContainer','keypress','gif','76090LlPkeE','add','12LZKnnM','content','Connected\x20to\x20server','padStart','forEach','data','src','remove','lastElementChild','showInput','value','innerHTML','addEventListener','right-bubble','sender','display'];_0x3fe2=function(){return _0x48baa2;};return _0x3fe2();}function getGifs(){var _0x1bd4de=_0x3711a;fetch('/api/api-key')[_0x1bd4de(0x13b)](_0x1c7b17=>_0x1c7b17[_0x1bd4de(0x112)]())['then'](_0x147f71=>{var _0x261645=_0x1bd4de,_0x147f71=_0x147f71['apiKey'],_0x528f6b=document[_0x261645(0x151)](_0x261645(0x155))[_0x261645(0x12f)];fetch(_0x261645(0x152)+_0x528f6b+_0x261645(0x141)+_0x147f71+'&limit20')[_0x261645(0x13b)](_0x1c4424=>_0x1c4424[_0x261645(0x112)]())[_0x261645(0x13b)](_0x5c40eb=>{var _0xcc5ee0=_0x261645,_0xacbdbf=document['getElementById']('gifContainer');_0xacbdbf[_0xcc5ee0(0x130)]='';for(let _0x231c37=0x0;_0x231c37<_0x5c40eb[_0xcc5ee0(0x12a)]['length'];_0x231c37++){var _0x126418=_0x5c40eb[_0xcc5ee0(0x12a)][_0x231c37]['images'][_0xcc5ee0(0x144)][_0xcc5ee0(0x11d)],_0xf46061=document[_0xcc5ee0(0x14a)](_0xcc5ee0(0x11e));_0xf46061[_0xcc5ee0(0x12b)]=_0x126418,_0xf46061[_0xcc5ee0(0x116)]('data-gif',_0x126418),_0xf46061['addEventListener'](_0xcc5ee0(0x148),function(){var _0x2f1897=_0xcc5ee0;sendGifMessage(this['getAttribute'](_0x2f1897(0x147)));}),_0xacbdbf['appendChild'](_0xf46061);}})[_0x261645(0x153)](_0x1d2b94=>{console['log'](_0x1d2b94);});})[_0x1bd4de(0x153)](_0x512d32=>{var _0x2db4e6=_0x1bd4de;console['log'](_0x2db4e6(0x119),_0x512d32);});}function sendGifMessage(_0x32ff34){var _0x27c4af=_0x3711a;socket[_0x27c4af(0x14e)](_0x27c4af(0x150),{'content':_0x32ff34,'isGif':!0x0}),closeGifMenu(),gifHide[_0x27c4af(0x137)][_0x27c4af(0x12c)](_0x27c4af(0x12e)),searchInput[_0x27c4af(0x137)]['remove']('active'),searchGif[_0x27c4af(0x137)][_0x27c4af(0x12c)](_0x27c4af(0x138)),searchInput['value']='';}function closeGifMenu(){var _0x35b5ac=_0x3711a;document['getElementById'](_0x35b5ac(0x120))[_0x35b5ac(0x130)]='';}form[_0x3711a(0x131)]('submit',_0x4b6e89=>{_0x4b6e89['preventDefault']();}),_0x3711a(0x14f)!==fallbackMessage['style']['display']&&(fallbackMessage[_0x3711a(0x10e)][_0x3711a(0x134)]='none'),socket['on'](_0x3711a(0x11f),()=>{var _0x1216f4=_0x3711a;console['log'](_0x1216f4(0x127));}),socket['on'](_0x3711a(0x150),_0xa959a4=>{displayMessage(_0xa959a4),setTimeout(scrollToBottom,0x64);}),socket['on'](_0x3711a(0x156),_0x3e210a=>{var _0x232727=_0x3711a;_0x3e210a[_0x232727(0x129)](_0xab70cb=>{displayMessage(_0xab70cb);}),setTimeout(scrollToBottom,0x64);}),socket['on']('loggedInUser',_0x205bbe=>{username=_0x205bbe;}),sendButton[_0x3711a(0x131)](_0x3711a(0x148),()=>{var _0xbb9439=_0x3711a;sendMessage(_0xbb9439(0x157));}),inputField[_0x3711a(0x131)](_0x3711a(0x121),_0x411959=>{var _0x340412=_0x3711a;_0x340412(0x146)===_0x411959['key']&&sendMessage(_0x340412(0x157));});const gifBar=()=>{var _0x4d8998=_0x3711a;_0x4d8998(0x14f)===getComputedStyle(gifHide)['display']?gifHide[_0x4d8998(0x137)][_0x4d8998(0x124)](_0x4d8998(0x12e)):gifHide[_0x4d8998(0x137)][_0x4d8998(0x12c)]('showInput');};function _0x290c(_0xacc2c,_0x545266){var _0x3fe240=_0x3fe2();return _0x290c=function(_0x290cec,_0x311f7c){_0x290cec=_0x290cec-0x10b;var _0x462a26=_0x3fe240[_0x290cec];return _0x462a26;},_0x290c(_0xacc2c,_0x545266);}gifButton['addEventListener'](_0x3711a(0x148),gifBar),searchGif[_0x3711a(0x131)](_0x3711a(0x148),()=>{var _0x4314cd=_0x3711a;searchInput['classList'][_0x4314cd(0x124)]('active'),searchGif[_0x4314cd(0x137)]['add'](_0x4314cd(0x138));}),searchGif[_0x3711a(0x131)](_0x3711a(0x148),()=>{getGifs();});