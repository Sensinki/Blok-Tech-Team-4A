var _0x1b8897=_0x6054;function _0x2e25(){var _0x9476be=['keypress','toString','submit','8654350jkblek','.chat-box','Fout\x20bij\x20het\x20ophalen\x20van\x20de\x20API_KEY:','getAttribute','classList','17076jAdcBF','.gif-button','7djGWUV','none','isGif','click','createElement','.fallback-message','setAttribute','username-me','div','json','chat-bubble','forEach','contains','1716162blHvgM','timestamp','display','Enter','data-gif','message','content','right-bubble','remove','appendChild','682032ktHLdR','smooth','querySelector','textContent','1757610kwOacJ','url','log','trim','catch','\x20-\x20','.send-button','then','1365YmUpEf','emit','getHours','padStart','.searchGif','value','getElementById','innerHTML','lastElementChild','loggedInUser','add','searchInput','gif','img','username','sent-gif','.input-field','112lZmCgB','https://api.giphy.com/v1/gifs/search?q=','195DAMmJS','left-bubble','showInput','src','getMinutes','preventDefault','.gifHide','sender','active','addEventListener','text','212781wsrTYh'];_0x2e25=function(){return _0x9476be;};return _0x2e25();}(function(_0x279637,_0x722cd1){var _0x2174be=_0x6054,_0x1af9ce=_0x279637();while(!![]){try{var _0x5dfdbe=-parseInt(_0x2174be(0x206))/0x1*(parseInt(_0x2174be(0x217))/0x2)+-parseInt(_0x2174be(0x1d8))/0x3+parseInt(_0x2174be(0x1e1))/0x4*(-parseInt(_0x2174be(0x219))/0x5)+-parseInt(_0x2174be(0x1f0))/0x6*(parseInt(_0x2174be(0x1e3))/0x7)+parseInt(_0x2174be(0x1fa))/0x8+-parseInt(_0x2174be(0x1fe))/0x9+parseInt(_0x2174be(0x1dc))/0xa;if(_0x5dfdbe===_0x722cd1)break;else _0x1af9ce['push'](_0x1af9ce['shift']());}catch(_0x79a81c){_0x1af9ce['push'](_0x1af9ce['shift']());}}}(_0x2e25,0x25f7a));const inputField=document[_0x1b8897(0x1fc)](_0x1b8897(0x216)),sendButton=document['querySelector'](_0x1b8897(0x204)),chatBox=document['querySelector'](_0x1b8897(0x1dd)),fallbackMessage=document[_0x1b8897(0x1fc)](_0x1b8897(0x1e8)),searchGif=document[_0x1b8897(0x1fc)](_0x1b8897(0x20a)),gifButton=document['querySelector'](_0x1b8897(0x1e2)),gifHide=document[_0x1b8897(0x1fc)](_0x1b8897(0x1d3)),searchInput=document[_0x1b8897(0x20c)](_0x1b8897(0x211)),form=document[_0x1b8897(0x20c)]('input-form'),socket=io();let isSendingMessage=!0x1,username;function sendMessage(_0x5c9920,_0x59a7de=null){var _0x452e41=_0x1b8897,_0x5771a4;isSendingMessage||(_0x5771a4=inputField['value'])['trim']()&&(inputField['value']='',isSendingMessage=!0x0,_0x452e41(0x1d7)===_0x5c9920?socket[_0x452e41(0x207)](_0x452e41(0x1f5),{'content':_0x5771a4,'isGif':!0x1}):_0x452e41(0x212)===_0x5c9920&&_0x59a7de&&socket[_0x452e41(0x207)](_0x452e41(0x1f5),{'content':_0x59a7de,'isGif':!0x0}),setTimeout(()=>{isSendingMessage=!0x1;},0x64));}function displayMessage(_0x2ea8d8,_0x307a6c=!0x0){var _0x372573=_0x1b8897,_0x16e8ec,_0xd18b5f;_0x307a6c&&''===_0x2ea8d8['content'][_0x372573(0x201)]()||((_0x16e8ec=document[_0x372573(0x1e7)](_0x372573(0x1eb)))[_0x372573(0x1e0)][_0x372573(0x210)](_0x372573(0x1ed)),_0x16e8ec[_0x372573(0x1e0)][_0x372573(0x210)](getMessageClass(_0x2ea8d8['sender'])),(_0xd18b5f=document[_0x372573(0x1e7)]('p'))['classList']['add'](addUsername(_0x2ea8d8[_0x372573(0x1d4)])),_0xd18b5f[_0x372573(0x1fd)]=_0x2ea8d8[_0x372573(0x1d4)]+_0x372573(0x203)+getFormattedTimestamp(_0x2ea8d8[_0x372573(0x1f1)]),chatBox[_0x372573(0x1f9)](_0xd18b5f),_0x2ea8d8[_0x372573(0x1e5)]?((_0xd18b5f=document[_0x372573(0x1e7)](_0x372573(0x213)))[_0x372573(0x1d0)]=_0x2ea8d8[_0x372573(0x1f6)],_0x307a6c&&_0xd18b5f['classList'][_0x372573(0x210)](_0x372573(0x215)),_0xd18b5f[_0x372573(0x1e9)](_0x372573(0x1f4),_0x2ea8d8[_0x372573(0x1f6)]),_0xd18b5f[_0x372573(0x1d6)](_0x372573(0x1e6),function(){var _0xbaeeaa=_0x372573;this[_0xbaeeaa(0x1e0)][_0xbaeeaa(0x1ef)](_0xbaeeaa(0x215))||(sendGifMessage(this[_0xbaeeaa(0x1df)](_0xbaeeaa(0x1f4))),closeGifMenu());}),_0x16e8ec['appendChild'](_0xd18b5f)):_0x16e8ec['textContent']=_0x2ea8d8[_0x372573(0x1f6)],chatBox['appendChild'](_0x16e8ec));}function getMessageClass(_0x47aa5d){var _0x4e4d44=_0x1b8897;return _0x47aa5d===username?_0x4e4d44(0x1f7):_0x4e4d44(0x21a);}function addUsername(_0x1479ea){var _0x23d75f=_0x1b8897;return _0x1479ea===username?_0x23d75f(0x1ea):_0x23d75f(0x214);}function _0x6054(_0x25eb81,_0x5ee3ea){var _0x2e25a6=_0x2e25();return _0x6054=function(_0x6054bf,_0x4c5ee3){_0x6054bf=_0x6054bf-0x1cf;var _0x3a3581=_0x2e25a6[_0x6054bf];return _0x3a3581;},_0x6054(_0x25eb81,_0x5ee3ea);}function getFormattedTimestamp(_0x478480){var _0x195601=_0x1b8897;return _0x478480=new Date(_0x478480),_0x478480[_0x195601(0x208)]()[_0x195601(0x1da)]()['padStart'](0x2,'0')+':'+_0x478480[_0x195601(0x1d1)]()[_0x195601(0x1da)]()[_0x195601(0x209)](0x2,'0');}function scrollToBottom(){var _0xa9884f=_0x1b8897,_0x31a508=chatBox[_0xa9884f(0x20e)];_0x31a508&&_0x31a508['scrollIntoView']({'behavior':_0xa9884f(0x1fb)});}function getGifs(){var _0x6a7fdb=_0x1b8897;fetch('/api/api-key')[_0x6a7fdb(0x205)](_0x5b1c76=>_0x5b1c76[_0x6a7fdb(0x1ec)]())[_0x6a7fdb(0x205)](_0x43350b=>{var _0x27e3d6=_0x6a7fdb,_0x43350b=_0x43350b['apiKey'],_0x21bbc9=document[_0x27e3d6(0x20c)]('searchInput')['value'];fetch(_0x27e3d6(0x218)+_0x21bbc9+'&api_key='+_0x43350b+'&limit20')[_0x27e3d6(0x205)](_0x310d17=>_0x310d17[_0x27e3d6(0x1ec)]())[_0x27e3d6(0x205)](_0x160034=>{var _0x3a005a=_0x27e3d6,_0x1d496b=document[_0x3a005a(0x20c)]('gifContainer');_0x1d496b[_0x3a005a(0x20d)]='';for(let _0x17f718=0x0;_0x17f718<_0x160034['data']['length'];_0x17f718++){var _0x2e3a7f=_0x160034['data'][_0x17f718]['images']['fixed_width'][_0x3a005a(0x1ff)],_0x2994b3=document[_0x3a005a(0x1e7)]('img');_0x2994b3[_0x3a005a(0x1d0)]=_0x2e3a7f,_0x2994b3[_0x3a005a(0x1e9)](_0x3a005a(0x1f4),_0x2e3a7f),_0x2994b3['addEventListener'](_0x3a005a(0x1e6),function(){var _0x2734e2=_0x3a005a;sendGifMessage(this['getAttribute'](_0x2734e2(0x1f4)));}),_0x1d496b[_0x3a005a(0x1f9)](_0x2994b3);}})['catch'](_0x45edef=>{console['log'](_0x45edef);});})[_0x6a7fdb(0x202)](_0x153a5f=>{var _0x21d3a2=_0x6a7fdb;console[_0x21d3a2(0x200)](_0x21d3a2(0x1de),_0x153a5f);});}function sendGifMessage(_0x39c6de){var _0x2877f8=_0x1b8897;socket[_0x2877f8(0x207)](_0x2877f8(0x1f5),{'content':_0x39c6de,'isGif':!0x0}),closeGifMenu(),gifHide['classList'][_0x2877f8(0x1f8)]('showInput'),searchInput[_0x2877f8(0x1e0)][_0x2877f8(0x1f8)](_0x2877f8(0x1d5)),searchGif[_0x2877f8(0x1e0)][_0x2877f8(0x1f8)](_0x2877f8(0x1d5)),searchInput[_0x2877f8(0x20b)]='';}function closeGifMenu(){var _0x1cd72d=_0x1b8897;document[_0x1cd72d(0x20c)]('gifContainer')['innerHTML']='';}form[_0x1b8897(0x1d6)](_0x1b8897(0x1db),_0x31430e=>{var _0x39d9bf=_0x1b8897;_0x31430e[_0x39d9bf(0x1d2)]();}),_0x1b8897(0x1e4)!==fallbackMessage['style']['display']&&(fallbackMessage['style'][_0x1b8897(0x1f2)]='none'),socket['on']('connect',()=>{console['log']('Connected\x20to\x20server');}),socket['on'](_0x1b8897(0x1f5),_0x15ea74=>{displayMessage(_0x15ea74),setTimeout(scrollToBottom,0x64);}),socket['on']('chatHistory',_0x3f07d2=>{var _0x2de106=_0x1b8897;_0x3f07d2[_0x2de106(0x1ee)](_0x54fe64=>{displayMessage(_0x54fe64);}),setTimeout(scrollToBottom,0x64);}),socket['on'](_0x1b8897(0x20f),_0x2853d4=>{username=_0x2853d4;}),sendButton[_0x1b8897(0x1d6)](_0x1b8897(0x1e6),()=>{sendMessage('text');}),inputField['addEventListener'](_0x1b8897(0x1d9),_0x4f7853=>{var _0x46999d=_0x1b8897;_0x46999d(0x1f3)===_0x4f7853['key']&&sendMessage(_0x46999d(0x1d7));});const gifBar=()=>{var _0x1b11bc=_0x1b8897;_0x1b11bc(0x1e4)===getComputedStyle(gifHide)[_0x1b11bc(0x1f2)]?gifHide[_0x1b11bc(0x1e0)][_0x1b11bc(0x210)](_0x1b11bc(0x1cf)):gifHide[_0x1b11bc(0x1e0)]['remove'](_0x1b11bc(0x1cf));};gifButton[_0x1b8897(0x1d6)](_0x1b8897(0x1e6),gifBar),searchGif[_0x1b8897(0x1d6)](_0x1b8897(0x1e6),()=>{var _0x251f5c=_0x1b8897;searchInput[_0x251f5c(0x1e0)][_0x251f5c(0x210)](_0x251f5c(0x1d5)),searchGif[_0x251f5c(0x1e0)][_0x251f5c(0x210)](_0x251f5c(0x1d5));}),searchGif['addEventListener'](_0x1b8897(0x1e6),()=>{getGifs();});