var _0x74ef02=_0x2453;(function(_0x2f2974,_0x2acf13){var _0x95b1e3=_0x2453,_0x4d1fcb=_0x2f2974();while(!![]){try{var _0x4fb287=-parseInt(_0x95b1e3(0x1ec))/0x1+-parseInt(_0x95b1e3(0x1e3))/0x2*(-parseInt(_0x95b1e3(0x1fa))/0x3)+-parseInt(_0x95b1e3(0x1fd))/0x4*(-parseInt(_0x95b1e3(0x1e7))/0x5)+parseInt(_0x95b1e3(0x20e))/0x6+-parseInt(_0x95b1e3(0x1f1))/0x7*(parseInt(_0x95b1e3(0x211))/0x8)+-parseInt(_0x95b1e3(0x1d2))/0x9*(-parseInt(_0x95b1e3(0x208))/0xa)+-parseInt(_0x95b1e3(0x1f4))/0xb;if(_0x4fb287===_0x2acf13)break;else _0x4d1fcb['push'](_0x4d1fcb['shift']());}catch(_0x19f470){_0x4d1fcb['push'](_0x4d1fcb['shift']());}}}(_0x4380,0x7ee8c));const inputField=document[_0x74ef02(0x1ca)](_0x74ef02(0x202)),sendButton=document[_0x74ef02(0x1ca)](_0x74ef02(0x1f0)),chatBox=document['querySelector']('.chat-box'),fallbackMessage=document['querySelector']('.fallback-message'),searchGif=document[_0x74ef02(0x1ca)](_0x74ef02(0x20d)),gifButton=document[_0x74ef02(0x1ca)](_0x74ef02(0x1e1)),gifHide=document[_0x74ef02(0x1ca)](_0x74ef02(0x20b)),searchInput=document['getElementById'](_0x74ef02(0x209)),form=document['getElementById'](_0x74ef02(0x1e8)),errorMessage=document[_0x74ef02(0x1ca)]('.error-message'),socket=(errorMessage['style']['display']=_0x74ef02(0x212),io());function _0x2453(_0x249d82,_0x61b22){var _0x4380e7=_0x4380();return _0x2453=function(_0x2453cb,_0x37b404){_0x2453cb=_0x2453cb-0x1c6;var _0x2b8d68=_0x4380e7[_0x2453cb];return _0x2b8d68;},_0x2453(_0x249d82,_0x61b22);}let isSendingMessage=!0x1,username;function sendMessage(_0x39a8f7,_0x2e2302=null){var _0x407c56=_0x74ef02,_0xa56378;isSendingMessage||(_0xa56378=inputField['value'])[_0x407c56(0x1f6)]()&&(inputField[_0x407c56(0x1fe)]='',isSendingMessage=!0x0,_0x407c56(0x1cf)===_0x39a8f7?socket['emit']('message',{'content':_0xa56378,'isGif':!0x1}):_0x407c56(0x1cc)===_0x39a8f7&&_0x2e2302&&socket['emit']('message',{'content':_0x2e2302,'isGif':!0x0}),setTimeout(()=>{isSendingMessage=!0x1;},0x64));}function displayMessage(_0x1e43d4,_0x448bc6=!0x0){var _0x39950d=_0x74ef02,_0x5cc6d8,_0xd4e905;_0x448bc6&&''===_0x1e43d4[_0x39950d(0x1d6)][_0x39950d(0x1f6)]()||((_0x5cc6d8=document[_0x39950d(0x1da)](_0x39950d(0x201)))[_0x39950d(0x1f5)][_0x39950d(0x1eb)](_0x39950d(0x1fc)),_0x5cc6d8[_0x39950d(0x1f5)][_0x39950d(0x1eb)](getMessageClass(_0x1e43d4['sender'])),(_0xd4e905=document[_0x39950d(0x1da)]('p'))[_0x39950d(0x1f5)]['add'](addUsername(_0x1e43d4[_0x39950d(0x203)])),_0xd4e905['textContent']=_0x1e43d4[_0x39950d(0x203)]+'\x20-\x20'+getFormattedTimestamp(_0x1e43d4[_0x39950d(0x1ee)]),chatBox['appendChild'](_0xd4e905),_0x1e43d4[_0x39950d(0x1c6)]?((_0xd4e905=document[_0x39950d(0x1da)](_0x39950d(0x1d8)))[_0x39950d(0x20f)]=_0x1e43d4[_0x39950d(0x1d6)],_0x448bc6&&_0xd4e905[_0x39950d(0x1f5)][_0x39950d(0x1eb)](_0x39950d(0x1de)),_0xd4e905['setAttribute'](_0x39950d(0x1d1),_0x1e43d4[_0x39950d(0x1d6)]),_0xd4e905[_0x39950d(0x1d9)](_0x39950d(0x1db),function(){var _0x4aebd5=_0x39950d;this[_0x4aebd5(0x1f5)][_0x4aebd5(0x1d4)](_0x4aebd5(0x1de))||(sendGifMessage(this['getAttribute'](_0x4aebd5(0x1d1))),closeGifMenu());}),_0x5cc6d8[_0x39950d(0x200)](_0xd4e905)):_0x5cc6d8['textContent']=_0x1e43d4[_0x39950d(0x1d6)],chatBox['appendChild'](_0x5cc6d8));}function getMessageClass(_0x6e7047){var _0x31bfd5=_0x74ef02;return _0x6e7047===username?'right-bubble':_0x31bfd5(0x1cd);}function addUsername(_0x42c4ab){var _0x43d46f=_0x74ef02;return _0x42c4ab===username?_0x43d46f(0x1c8):_0x43d46f(0x1f8);}function getFormattedTimestamp(_0x467881){var _0x590f0a=_0x74ef02;return _0x467881=new Date(_0x467881),_0x467881['getHours']()[_0x590f0a(0x1f3)]()[_0x590f0a(0x206)](0x2,'0')+':'+_0x467881[_0x590f0a(0x1e4)]()[_0x590f0a(0x1f3)]()[_0x590f0a(0x206)](0x2,'0');}function scrollToBottom(){var _0x44ac0a=_0x74ef02,_0x184758=chatBox['lastElementChild'];_0x184758&&_0x184758['scrollIntoView']({'behavior':_0x44ac0a(0x1ff)});}function getGifs(){var _0x4370c7=_0x74ef02;fetch('/api/api-key')[_0x4370c7(0x1dd)](_0x4cf725=>_0x4cf725[_0x4370c7(0x1e5)]())[_0x4370c7(0x1dd)](_0x1358c3=>{var _0x4cdd2c=_0x4370c7,_0x1358c3=_0x1358c3['apiKey'],_0x2a0460=document[_0x4cdd2c(0x1f2)](_0x4cdd2c(0x209))[_0x4cdd2c(0x1fe)];fetch(_0x4cdd2c(0x1e9)+_0x2a0460+_0x4cdd2c(0x207)+_0x1358c3+_0x4cdd2c(0x1ea))['then'](_0x59481f=>_0x59481f['json']())[_0x4cdd2c(0x1dd)](_0x35ea94=>{var _0x390096=_0x4cdd2c,_0x5f3301=document['getElementById']('gifContainer');_0x5f3301[_0x390096(0x1c9)]='',0x0===_0x35ea94[_0x390096(0x1e0)][_0x390096(0x1cb)]?errorMessage['style'][_0x390096(0x1e2)]=_0x390096(0x1f7):errorMessage[_0x390096(0x1f9)][_0x390096(0x1e2)]='none';for(let _0x130bf8=0x0;_0x130bf8<_0x35ea94[_0x390096(0x1e0)]['length'];_0x130bf8++){var _0xd6a80e=_0x35ea94[_0x390096(0x1e0)][_0x130bf8]['images'][_0x390096(0x1df)]['url'],_0x3fbaf1=document[_0x390096(0x1da)](_0x390096(0x1d8));_0x3fbaf1[_0x390096(0x20f)]=_0xd6a80e,_0x3fbaf1['setAttribute'](_0x390096(0x1d1),_0xd6a80e),_0x3fbaf1[_0x390096(0x1d9)](_0x390096(0x1db),function(){var _0xe3fc01=_0x390096;sendGifMessage(this[_0xe3fc01(0x1c7)]('data-gif'));}),_0x5f3301['appendChild'](_0x3fbaf1);}})[_0x4cdd2c(0x204)](_0x271121=>{var _0x1ef4b7=_0x4cdd2c;console[_0x1ef4b7(0x1ed)](_0x271121);});})['catch'](_0x14ddcc=>{var _0x188b00=_0x4370c7;console[_0x188b00(0x1ed)](_0x188b00(0x1d3),_0x14ddcc);});}function sendGifMessage(_0x466932){var _0x2861d5=_0x74ef02;socket[_0x2861d5(0x1ce)](_0x2861d5(0x210),{'content':_0x466932,'isGif':!0x0}),closeGifMenu(),gifHide['classList']['remove'](_0x2861d5(0x1ef)),searchInput['classList'][_0x2861d5(0x20c)](_0x2861d5(0x1dc)),searchGif[_0x2861d5(0x1f5)][_0x2861d5(0x20c)](_0x2861d5(0x1dc)),searchInput['value']='';}function _0x4380(){var _0xd78fcd=['active','then','sent-gif','fixed_width','data','.gif-button','display','2uQQgie','getMinutes','json','Connected\x20to\x20server','5GSyBxI','input-form','https://api.giphy.com/v1/gifs/search?q=','&limit20','add','44715SbfEnV','log','timestamp','showInput','.send-button','144207gDncQH','getElementById','toString','10665248FsAjWt','classList','trim','block','username','style','2057217TuOJJP','keypress','chat-bubble','3580628oTnBeh','value','smooth','appendChild','div','.input-field','sender','catch','key','padStart','&api_key=','1090bSGlVj','searchInput','chatHistory','.gifHide','remove','.searchGif','3385566krewKG','src','message','368jQVUml','none','isGif','getAttribute','username-me','innerHTML','querySelector','length','gif','left-bubble','emit','text','connect','data-gif','27792ZLHchW','Fout\x20bij\x20het\x20ophalen\x20van\x20de\x20API_KEY:','contains','forEach','content','gifContainer','img','addEventListener','createElement','click'];_0x4380=function(){return _0xd78fcd;};return _0x4380();}function closeGifMenu(){var _0x3a1797=_0x74ef02;document['getElementById'](_0x3a1797(0x1d7))['innerHTML']='';}form[_0x74ef02(0x1d9)]('submit',_0x314260=>{_0x314260['preventDefault']();}),_0x74ef02(0x212)!==fallbackMessage[_0x74ef02(0x1f9)][_0x74ef02(0x1e2)]&&(fallbackMessage[_0x74ef02(0x1f9)][_0x74ef02(0x1e2)]=_0x74ef02(0x212)),socket['on'](_0x74ef02(0x1d0),()=>{var _0x55c372=_0x74ef02;console[_0x55c372(0x1ed)](_0x55c372(0x1e6));}),socket['on'](_0x74ef02(0x210),_0x8671fa=>{displayMessage(_0x8671fa),setTimeout(scrollToBottom,0x64);}),socket['on'](_0x74ef02(0x20a),_0x140db0=>{var _0x19482b=_0x74ef02;_0x140db0[_0x19482b(0x1d5)](_0x483f54=>{displayMessage(_0x483f54);}),setTimeout(scrollToBottom,0x64);}),socket['on']('loggedInUser',_0x5f1e0f=>{username=_0x5f1e0f;}),sendButton[_0x74ef02(0x1d9)](_0x74ef02(0x1db),()=>{sendMessage('text');}),inputField[_0x74ef02(0x1d9)](_0x74ef02(0x1fb),_0xac8d92=>{var _0x508a01=_0x74ef02;'Enter'===_0xac8d92[_0x508a01(0x205)]&&sendMessage(_0x508a01(0x1cf));});const gifBar=()=>{var _0x23b95e=_0x74ef02;'none'===getComputedStyle(gifHide)[_0x23b95e(0x1e2)]?gifHide[_0x23b95e(0x1f5)][_0x23b95e(0x1eb)](_0x23b95e(0x1ef)):gifHide['classList'][_0x23b95e(0x20c)](_0x23b95e(0x1ef));};gifButton[_0x74ef02(0x1d9)]('click',gifBar),searchGif['addEventListener'](_0x74ef02(0x1db),()=>{var _0x55eddf=_0x74ef02;searchInput[_0x55eddf(0x1f5)][_0x55eddf(0x1eb)](_0x55eddf(0x1dc)),searchGif[_0x55eddf(0x1f5)]['add'](_0x55eddf(0x1dc));}),searchGif[_0x74ef02(0x1d9)]('click',()=>{getGifs();});