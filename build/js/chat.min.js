var _0xd8ed2=_0x3abe;(function(_0x3f570b,_0x49c70f){var _0x431b54=_0x3abe,_0x175c80=_0x3f570b();while(!![]){try{var _0x44e458=parseInt(_0x431b54(0x1d2))/0x1*(-parseInt(_0x431b54(0x1d8))/0x2)+-parseInt(_0x431b54(0x1a4))/0x3+-parseInt(_0x431b54(0x1b8))/0x4+-parseInt(_0x431b54(0x1db))/0x5*(parseInt(_0x431b54(0x1dd))/0x6)+-parseInt(_0x431b54(0x1df))/0x7*(parseInt(_0x431b54(0x1bd))/0x8)+parseInt(_0x431b54(0x19c))/0x9+parseInt(_0x431b54(0x1e5))/0xa*(parseInt(_0x431b54(0x19d))/0xb);if(_0x44e458===_0x49c70f)break;else _0x175c80['push'](_0x175c80['shift']());}catch(_0x18d903){_0x175c80['push'](_0x175c80['shift']());}}}(_0x742f,0xd9d78));const inputField=document[_0xd8ed2(0x1d4)](_0xd8ed2(0x1b3)),sendButton=document['querySelector'](_0xd8ed2(0x1a9)),chatBox=document[_0xd8ed2(0x1d4)](_0xd8ed2(0x1d7)),fallbackMessage=document['querySelector'](_0xd8ed2(0x1d9)),searchGif=document['querySelector'](_0xd8ed2(0x1b6)),gifButton=document[_0xd8ed2(0x1d4)](_0xd8ed2(0x1de)),gifHide=document[_0xd8ed2(0x1d4)](_0xd8ed2(0x1e1)),searchInput=document['getElementById']('searchInput'),form=document[_0xd8ed2(0x1c1)](_0xd8ed2(0x1b4)),socket=io();let isSendingMessage=!0x1,username;function sendMessage(_0xb48b2d,_0x42cf4f=null){var _0x477ab3=_0xd8ed2,_0x35092d;isSendingMessage||(_0x35092d=inputField[_0x477ab3(0x1c2)])[_0x477ab3(0x1b5)]()&&(inputField[_0x477ab3(0x1c2)]='',isSendingMessage=!0x0,_0x477ab3(0x1d1)===_0xb48b2d?socket[_0x477ab3(0x1d0)](_0x477ab3(0x1ae),{'content':_0x35092d,'isGif':!0x1}):_0x477ab3(0x1bc)===_0xb48b2d&&_0x42cf4f&&socket[_0x477ab3(0x1d0)](_0x477ab3(0x1ae),{'content':_0x42cf4f,'isGif':!0x0}),setTimeout(()=>{isSendingMessage=!0x1;},0x64));}function displayMessage(_0x22b026,_0xb090b0=!0x0){var _0xba4272=_0xd8ed2,_0x3f6f2f,_0x15fadd;_0xb090b0&&''===_0x22b026['content']['trim']()||((_0x3f6f2f=document[_0xba4272(0x1b0)]('div'))[_0xba4272(0x1a5)][_0xba4272(0x1da)](_0xba4272(0x1d3)),_0x3f6f2f[_0xba4272(0x1a5)][_0xba4272(0x1da)](getMessageClass(_0x22b026[_0xba4272(0x1a0)])),(_0x15fadd=document[_0xba4272(0x1b0)]('p'))[_0xba4272(0x1a5)][_0xba4272(0x1da)](addUsername(_0x22b026[_0xba4272(0x1a0)])),_0x15fadd[_0xba4272(0x1a3)]=_0x22b026[_0xba4272(0x1a0)]+'\x20-\x20'+getFormattedTimestamp(_0x22b026['timestamp']),chatBox[_0xba4272(0x1c9)](_0x15fadd),_0x22b026[_0xba4272(0x1cf)]?((_0x15fadd=document[_0xba4272(0x1b0)]('img'))[_0xba4272(0x1b7)]=_0x22b026['content'],_0xb090b0&&_0x15fadd['classList'][_0xba4272(0x1da)](_0xba4272(0x1bb)),_0x15fadd[_0xba4272(0x1c4)](_0xba4272(0x1b9),_0x22b026[_0xba4272(0x1ab)]),_0x15fadd[_0xba4272(0x1b1)](_0xba4272(0x1d5),function(){var _0x3e4d1e=_0xba4272;this[_0x3e4d1e(0x1a5)]['contains'](_0x3e4d1e(0x1bb))||(sendGifMessage(this['getAttribute'](_0x3e4d1e(0x1b9))),closeGifMenu());}),_0x3f6f2f[_0xba4272(0x1c9)](_0x15fadd)):_0x3f6f2f['textContent']=_0x22b026[_0xba4272(0x1ab)],chatBox[_0xba4272(0x1c9)](_0x3f6f2f));}function getMessageClass(_0x5d89d0){var _0x56be41=_0xd8ed2;return _0x5d89d0===username?_0x56be41(0x1aa):'left-bubble';}function addUsername(_0x1f35b0){var _0x284bf3=_0xd8ed2;return _0x1f35b0===username?'username-me':_0x284bf3(0x1a6);}function _0x742f(){var _0x256ebb=['searchInput','none','appendChild','fixed_width','getAttribute','remove','data','then','isGif','emit','text','18982HtlngE','chat-bubble','querySelector','click','key','.chat-box','184tfSzde','.fallback-message','add','29320vNIoYf','toString','954pPeWsg','.gif-button','28HGSvck','url','.gifHide','gifContainer','img','active','40qkkzwv','display','chatHistory','style','lastElementChild','&api_key=','5726952wobEGw','13055658gqbRDa','scrollIntoView','loggedInUser','sender','Fout\x20bij\x20het\x20ophalen\x20van\x20de\x20API_KEY:','preventDefault','textContent','1291401QfgdJn','classList','username','connect','log','.send-button','right-bubble','content','json','apiKey','message','https://api.giphy.com/v1/gifs/search?q=','createElement','addEventListener','catch','.input-field','input-form','trim','.searchGif','src','1382500WorAfA','data-gif','getMinutes','sent-gif','gif','2073496EXlijv','&limit20','showInput','getHours','getElementById','value','padStart','setAttribute','images','innerHTML'];_0x742f=function(){return _0x256ebb;};return _0x742f();}function getFormattedTimestamp(_0x280642){var _0x59072f=_0xd8ed2;return _0x280642=new Date(_0x280642),_0x280642[_0x59072f(0x1c0)]()[_0x59072f(0x1dc)]()[_0x59072f(0x1c3)](0x2,'0')+':'+_0x280642[_0x59072f(0x1ba)]()['toString']()[_0x59072f(0x1c3)](0x2,'0');}function _0x3abe(_0x9e1e8a,_0x501ced){var _0x742f80=_0x742f();return _0x3abe=function(_0x3abe04,_0x41cfab){_0x3abe04=_0x3abe04-0x19c;var _0x403162=_0x742f80[_0x3abe04];return _0x403162;},_0x3abe(_0x9e1e8a,_0x501ced);}function scrollToBottom(){var _0x184267=_0xd8ed2,_0x3a5ab4=chatBox[_0x184267(0x1e9)];_0x3a5ab4&&_0x3a5ab4[_0x184267(0x19e)]({'behavior':'smooth'});}function getGifs(){var _0x24bdb5=_0xd8ed2;fetch('/api/api-key')[_0x24bdb5(0x1ce)](_0x174060=>_0x174060[_0x24bdb5(0x1ac)]())[_0x24bdb5(0x1ce)](_0x217c67=>{var _0x47ee30=_0x24bdb5,_0x217c67=_0x217c67[_0x47ee30(0x1ad)],_0x2234ad=document[_0x47ee30(0x1c1)](_0x47ee30(0x1c7))['value'];fetch(_0x47ee30(0x1af)+_0x2234ad+_0x47ee30(0x1ea)+_0x217c67+_0x47ee30(0x1be))[_0x47ee30(0x1ce)](_0x542655=>_0x542655['json']())[_0x47ee30(0x1ce)](_0x519e92=>{var _0x2a89b=_0x47ee30,_0x10f1a8=document[_0x2a89b(0x1c1)](_0x2a89b(0x1e2));_0x10f1a8[_0x2a89b(0x1c6)]='';for(let _0x432ca7=0x0;_0x432ca7<_0x519e92[_0x2a89b(0x1cd)]['length'];_0x432ca7++){var _0x369d72=_0x519e92[_0x2a89b(0x1cd)][_0x432ca7][_0x2a89b(0x1c5)][_0x2a89b(0x1ca)][_0x2a89b(0x1e0)],_0x1295b4=document['createElement'](_0x2a89b(0x1e3));_0x1295b4[_0x2a89b(0x1b7)]=_0x369d72,_0x1295b4[_0x2a89b(0x1c4)](_0x2a89b(0x1b9),_0x369d72),_0x1295b4[_0x2a89b(0x1b1)](_0x2a89b(0x1d5),function(){var _0x44384d=_0x2a89b;sendGifMessage(this[_0x44384d(0x1cb)](_0x44384d(0x1b9)));}),_0x10f1a8[_0x2a89b(0x1c9)](_0x1295b4);}})[_0x47ee30(0x1b2)](_0x462e78=>{var _0x152eb8=_0x47ee30;console[_0x152eb8(0x1a8)](_0x462e78);});})['catch'](_0x14628c=>{var _0x5c4c68=_0x24bdb5;console[_0x5c4c68(0x1a8)](_0x5c4c68(0x1a1),_0x14628c);});}function sendGifMessage(_0x56c4f1){var _0x13f664=_0xd8ed2;socket['emit'](_0x13f664(0x1ae),{'content':_0x56c4f1,'isGif':!0x0}),closeGifMenu(),gifHide[_0x13f664(0x1a5)][_0x13f664(0x1cc)]('showInput'),searchInput['classList'][_0x13f664(0x1cc)](_0x13f664(0x1e4)),searchGif[_0x13f664(0x1a5)]['remove'](_0x13f664(0x1e4)),searchInput[_0x13f664(0x1c2)]='';}function closeGifMenu(){var _0x557fa6=_0xd8ed2;document[_0x557fa6(0x1c1)](_0x557fa6(0x1e2))['innerHTML']='';}form[_0xd8ed2(0x1b1)]('submit',_0x479deb=>{var _0x560716=_0xd8ed2;_0x479deb[_0x560716(0x1a2)]();}),_0xd8ed2(0x1c8)!==fallbackMessage[_0xd8ed2(0x1e8)][_0xd8ed2(0x1e6)]&&(fallbackMessage[_0xd8ed2(0x1e8)][_0xd8ed2(0x1e6)]='none'),socket['on'](_0xd8ed2(0x1a7),()=>{var _0x300ed2=_0xd8ed2;console[_0x300ed2(0x1a8)]('Connected\x20to\x20server');}),socket['on']('message',_0x24020c=>{displayMessage(_0x24020c),setTimeout(scrollToBottom,0x64);}),socket['on'](_0xd8ed2(0x1e7),_0x4a8fac=>{_0x4a8fac['forEach'](_0x1bc909=>{displayMessage(_0x1bc909);}),setTimeout(scrollToBottom,0x64);}),socket['on'](_0xd8ed2(0x19f),_0x5d3c6e=>{username=_0x5d3c6e;}),sendButton[_0xd8ed2(0x1b1)](_0xd8ed2(0x1d5),()=>{sendMessage('text');}),inputField[_0xd8ed2(0x1b1)]('keypress',_0x1ca00c=>{var _0x1bc9dc=_0xd8ed2;'Enter'===_0x1ca00c[_0x1bc9dc(0x1d6)]&&sendMessage(_0x1bc9dc(0x1d1));});const gifBar=()=>{var _0x47c960=_0xd8ed2;_0x47c960(0x1c8)===getComputedStyle(gifHide)['display']?gifHide[_0x47c960(0x1a5)][_0x47c960(0x1da)](_0x47c960(0x1bf)):gifHide['classList'][_0x47c960(0x1cc)](_0x47c960(0x1bf));};gifButton['addEventListener'](_0xd8ed2(0x1d5),gifBar),searchGif[_0xd8ed2(0x1b1)](_0xd8ed2(0x1d5),()=>{var _0x2db7ff=_0xd8ed2;searchInput[_0x2db7ff(0x1a5)]['add'](_0x2db7ff(0x1e4)),searchGif[_0x2db7ff(0x1a5)][_0x2db7ff(0x1da)]('active');}),searchGif[_0xd8ed2(0x1b1)](_0xd8ed2(0x1d5),()=>{getGifs();});