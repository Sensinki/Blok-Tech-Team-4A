var _0x4379d6=_0x4179;(function(_0x29bf63,_0x5935ce){var _0x9fb802=_0x4179,_0x5412d0=_0x29bf63();while(!![]){try{var _0x7f0832=-parseInt(_0x9fb802(0x12c))/0x1*(-parseInt(_0x9fb802(0x149))/0x2)+-parseInt(_0x9fb802(0x117))/0x3+parseInt(_0x9fb802(0x14e))/0x4+parseInt(_0x9fb802(0x11a))/0x5*(-parseInt(_0x9fb802(0x14b))/0x6)+parseInt(_0x9fb802(0x135))/0x7*(-parseInt(_0x9fb802(0x12b))/0x8)+parseInt(_0x9fb802(0x145))/0x9+parseInt(_0x9fb802(0x126))/0xa;if(_0x7f0832===_0x5935ce)break;else _0x5412d0['push'](_0x5412d0['shift']());}catch(_0x2c82db){_0x5412d0['push'](_0x5412d0['shift']());}}}(_0x5876,0x95528));const inputField=document[_0x4379d6(0x138)](_0x4379d6(0x13a)),sendButton=document[_0x4379d6(0x138)](_0x4379d6(0x116)),chatBox=document[_0x4379d6(0x138)](_0x4379d6(0x121)),fallbackMessage=document[_0x4379d6(0x138)](_0x4379d6(0x133)),searchGif=document[_0x4379d6(0x138)](_0x4379d6(0x128)),gifButton=document[_0x4379d6(0x138)]('.gif-button'),gifHide=document[_0x4379d6(0x138)](_0x4379d6(0x10c)),searchInput=document[_0x4379d6(0x142)](_0x4379d6(0x115)),form=document[_0x4379d6(0x142)](_0x4379d6(0x143)),socket=io();let isSendingMessage=!0x1,username;function sendMessage(_0x5a9b0a,_0x5e214f=null){var _0x297eb5=_0x4379d6,_0x463e68;isSendingMessage||(_0x463e68=inputField[_0x297eb5(0x14a)])[_0x297eb5(0x12d)]()&&(inputField[_0x297eb5(0x14a)]='',isSendingMessage=!0x0,_0x297eb5(0x124)===_0x5a9b0a?socket[_0x297eb5(0x147)]('message',{'content':_0x463e68,'isGif':!0x1}):_0x297eb5(0x13f)===_0x5a9b0a&&_0x5e214f&&socket[_0x297eb5(0x147)]('message',{'content':_0x5e214f,'isGif':!0x0}),setTimeout(()=>{isSendingMessage=!0x1;},0x64));}function displayMessage(_0x2eeec9,_0x2853a2=!0x0){var _0x1c359b=_0x4379d6,_0x54e23b,_0x3430ce;_0x2853a2&&''===_0x2eeec9['content']['trim']()||((_0x54e23b=document[_0x1c359b(0x10d)](_0x1c359b(0x136)))[_0x1c359b(0x123)][_0x1c359b(0x122)](_0x1c359b(0x11f)),_0x54e23b[_0x1c359b(0x123)][_0x1c359b(0x122)](getMessageClass(_0x2eeec9['sender'])),(_0x3430ce=document[_0x1c359b(0x10d)]('p'))['classList'][_0x1c359b(0x122)](addUsername(_0x2eeec9['sender'])),_0x3430ce['textContent']=_0x2eeec9[_0x1c359b(0x13b)]+_0x1c359b(0x148)+getFormattedTimestamp(_0x2eeec9[_0x1c359b(0x13d)]),chatBox[_0x1c359b(0x11b)](_0x3430ce),_0x2eeec9[_0x1c359b(0x119)]?((_0x3430ce=document[_0x1c359b(0x10d)]('img'))['src']=_0x2eeec9[_0x1c359b(0x105)],_0x2853a2&&_0x3430ce[_0x1c359b(0x123)][_0x1c359b(0x122)](_0x1c359b(0x12e)),_0x3430ce[_0x1c359b(0x150)](_0x1c359b(0x110),_0x2eeec9[_0x1c359b(0x105)]),_0x3430ce[_0x1c359b(0x13c)](_0x1c359b(0x140),function(){var _0x2f2d46=_0x1c359b;this[_0x2f2d46(0x123)]['contains'](_0x2f2d46(0x12e))||(sendGifMessage(this[_0x2f2d46(0x118)](_0x2f2d46(0x110))),closeGifMenu());}),_0x54e23b[_0x1c359b(0x11b)](_0x3430ce)):_0x54e23b['textContent']=_0x2eeec9[_0x1c359b(0x105)],chatBox[_0x1c359b(0x11b)](_0x54e23b));}function getMessageClass(_0x2cdab1){var _0x4fb320=_0x4379d6;return _0x2cdab1===username?'right-bubble':_0x4fb320(0x127);}function addUsername(_0x20767c){var _0x3d0759=_0x4379d6;return _0x20767c===username?_0x3d0759(0x114):_0x3d0759(0x10f);}function getFormattedTimestamp(_0x34fd62){var _0x5500c9=_0x4379d6;return _0x34fd62=new Date(_0x34fd62),_0x34fd62['getHours']()['toString']()[_0x5500c9(0x12a)](0x2,'0')+':'+_0x34fd62[_0x5500c9(0x10b)]()[_0x5500c9(0x137)]()['padStart'](0x2,'0');}function _0x4179(_0x9dc214,_0x183633){var _0x5876a7=_0x5876();return _0x4179=function(_0x417945,_0x4ab450){_0x417945=_0x417945-0x102;var _0x549f52=_0x5876a7[_0x417945];return _0x549f52;},_0x4179(_0x9dc214,_0x183633);}function scrollToBottom(){var _0x250d2f=_0x4379d6,_0x26bdf0=chatBox['lastElementChild'];_0x26bdf0&&_0x26bdf0[_0x250d2f(0x134)]({'behavior':_0x250d2f(0x103)});}function getGifs(){var _0x4f24f5=_0x4379d6;fetch('/api/api-key')[_0x4f24f5(0x102)](_0x200498=>_0x200498[_0x4f24f5(0x108)]())[_0x4f24f5(0x102)](_0xa0505d=>{var _0x4526b8=_0x4f24f5,_0xa0505d=_0xa0505d[_0x4526b8(0x120)],_0x25bdc5=document[_0x4526b8(0x142)](_0x4526b8(0x115))[_0x4526b8(0x14a)];fetch(_0x4526b8(0x14f)+_0x25bdc5+_0x4526b8(0x129)+_0xa0505d+_0x4526b8(0x107))['then'](_0x2e2bee=>_0x2e2bee[_0x4526b8(0x108)]())['then'](_0x5b7aba=>{var _0x2ed986=_0x4526b8,_0x292357=document[_0x2ed986(0x142)]('gifContainer');_0x292357[_0x2ed986(0x14c)]='';for(let _0x5a5177=0x0;_0x5a5177<_0x5b7aba[_0x2ed986(0x141)][_0x2ed986(0x132)];_0x5a5177++){var _0x44be43=_0x5b7aba[_0x2ed986(0x141)][_0x5a5177][_0x2ed986(0x139)]['fixed_width'][_0x2ed986(0x12f)],_0x12478e=document['createElement'](_0x2ed986(0x10e));_0x12478e['src']=_0x44be43,_0x12478e['setAttribute']('data-gif',_0x44be43),_0x12478e[_0x2ed986(0x13c)](_0x2ed986(0x140),function(){var _0x32c92c=_0x2ed986;sendGifMessage(this[_0x32c92c(0x118)](_0x32c92c(0x110)));}),_0x292357['appendChild'](_0x12478e);}})[_0x4526b8(0x104)](_0x3fabc2=>{console['log'](_0x3fabc2);});})[_0x4f24f5(0x104)](_0x5b2d72=>{console['log']('Fout\x20bij\x20het\x20ophalen\x20van\x20de\x20API_KEY:',_0x5b2d72);});}function sendGifMessage(_0x3f0a25){var _0xfc5fe1=_0x4379d6;socket[_0xfc5fe1(0x147)](_0xfc5fe1(0x131),{'content':_0x3f0a25,'isGif':!0x0}),closeGifMenu(),gifHide['classList']['remove'](_0xfc5fe1(0x111)),searchInput[_0xfc5fe1(0x123)][_0xfc5fe1(0x112)](_0xfc5fe1(0x11c)),searchGif[_0xfc5fe1(0x123)][_0xfc5fe1(0x112)](_0xfc5fe1(0x11c)),searchInput[_0xfc5fe1(0x14a)]='';}function closeGifMenu(){var _0x4fcb4c=_0x4379d6;document['getElementById'](_0x4fcb4c(0x130))[_0x4fcb4c(0x14c)]='';}form[_0x4379d6(0x13c)]('submit',_0x440aa1=>{var _0x38395f=_0x4379d6;_0x440aa1[_0x38395f(0x109)]();}),_0x4379d6(0x144)!==fallbackMessage[_0x4379d6(0x125)][_0x4379d6(0x106)]&&(fallbackMessage[_0x4379d6(0x125)]['display']=_0x4379d6(0x144)),socket['on'](_0x4379d6(0x11e),()=>{var _0x29d2f9=_0x4379d6;console['log'](_0x29d2f9(0x113));}),socket['on'](_0x4379d6(0x131),_0x134da2=>{displayMessage(_0x134da2),setTimeout(scrollToBottom,0x64);}),socket['on'](_0x4379d6(0x14d),_0x299261=>{var _0x17c7e6=_0x4379d6;_0x299261[_0x17c7e6(0x13e)](_0x12496f=>{displayMessage(_0x12496f);}),setTimeout(scrollToBottom,0x64);}),socket['on'](_0x4379d6(0x11d),_0x4ff569=>{username=_0x4ff569;}),sendButton[_0x4379d6(0x13c)](_0x4379d6(0x140),()=>{var _0x358cbf=_0x4379d6;sendMessage(_0x358cbf(0x124));}),inputField['addEventListener']('keypress',_0x2b72d0=>{var _0x1316b7=_0x4379d6;_0x1316b7(0x146)===_0x2b72d0[_0x1316b7(0x10a)]&&sendMessage(_0x1316b7(0x124));});const gifBar=()=>{var _0x299ee3=_0x4379d6;_0x299ee3(0x144)===getComputedStyle(gifHide)[_0x299ee3(0x106)]?gifHide[_0x299ee3(0x123)][_0x299ee3(0x122)](_0x299ee3(0x111)):gifHide[_0x299ee3(0x123)][_0x299ee3(0x112)]('showInput');};gifButton[_0x4379d6(0x13c)](_0x4379d6(0x140),gifBar),searchGif['addEventListener'](_0x4379d6(0x140),()=>{var _0x2fc384=_0x4379d6;searchInput['classList'][_0x2fc384(0x122)](_0x2fc384(0x11c)),searchGif['classList'][_0x2fc384(0x122)]('active');}),searchGif[_0x4379d6(0x13c)](_0x4379d6(0x140),()=>{getGifs();});function _0x5876(){var _0x620f14=['gifContainer','message','length','.fallback-message','scrollIntoView','7ggQasO','div','toString','querySelector','images','.input-field','sender','addEventListener','timestamp','forEach','gif','click','data','getElementById','input-form','none','5667210iVjXGS','Enter','emit','\x20-\x20','4UtQaXy','value','1013640HPhTsh','innerHTML','chatHistory','155484XEPQOw','https://api.giphy.com/v1/gifs/search?q=','setAttribute','then','smooth','catch','content','display','&limit20','json','preventDefault','key','getMinutes','.gifHide','createElement','img','username','data-gif','showInput','remove','Connected\x20to\x20server','username-me','searchInput','.send-button','368349ylZIoL','getAttribute','isGif','10eyNCdt','appendChild','active','loggedInUser','connect','chat-bubble','apiKey','.chat-box','add','classList','text','style','5931570gcSrdJ','left-bubble','.searchGif','&api_key=','padStart','2524264vuOIIt','63051NLJxQk','trim','sent-gif','url'];_0x5876=function(){return _0x620f14;};return _0x5876();}