var _0x4e00b0=_0x38b5;(function(_0x4ecd70,_0x4dd83b){var _0x479b34=_0x38b5,_0x193622=_0x4ecd70();while(!![]){try{var _0x28350e=-parseInt(_0x479b34(0xea))/0x1+parseInt(_0x479b34(0xa8))/0x2*(parseInt(_0x479b34(0xbf))/0x3)+-parseInt(_0x479b34(0xaa))/0x4*(parseInt(_0x479b34(0xc6))/0x5)+parseInt(_0x479b34(0xc1))/0x6+-parseInt(_0x479b34(0xef))/0x7*(parseInt(_0x479b34(0xc5))/0x8)+-parseInt(_0x479b34(0xa4))/0x9+parseInt(_0x479b34(0xcf))/0xa*(parseInt(_0x479b34(0xe4))/0xb);if(_0x28350e===_0x4dd83b)break;else _0x193622['push'](_0x193622['shift']());}catch(_0x1fa2b4){_0x193622['push'](_0x193622['shift']());}}}(_0x2958,0xc0a70));const inputField=document[_0x4e00b0(0xe3)](_0x4e00b0(0xa3)),sendButton=document[_0x4e00b0(0xe3)](_0x4e00b0(0xf1)),chatBox=document['querySelector'](_0x4e00b0(0xb7)),fallbackMessage=document['querySelector'](_0x4e00b0(0xaf)),searchGif=document[_0x4e00b0(0xe3)](_0x4e00b0(0xd9)),gifButton=document[_0x4e00b0(0xe3)](_0x4e00b0(0xbe)),gifHide=document['querySelector'](_0x4e00b0(0xb2)),searchInput=document['getElementById'](_0x4e00b0(0xeb)),form=document[_0x4e00b0(0xc3)]('input-form'),errorMessage=document['querySelector'](_0x4e00b0(0xb5)),socket=(errorMessage[_0x4e00b0(0xd7)][_0x4e00b0(0xe7)]=_0x4e00b0(0xb8),io());let isSendingMessage=!0x1,username;function sendMessage(_0x6cc309,_0x521c9b=null){var _0x19d34e=_0x4e00b0,_0x5bedfe;isSendingMessage||(_0x5bedfe=inputField['value'])['trim']()&&(inputField[_0x19d34e(0xe8)]='',isSendingMessage=!0x0,_0x19d34e(0xc7)===_0x6cc309?socket[_0x19d34e(0xc9)](_0x19d34e(0xbd),{'content':_0x5bedfe,'isGif':!0x1}):_0x19d34e(0xdf)===_0x6cc309&&_0x521c9b&&socket[_0x19d34e(0xc9)](_0x19d34e(0xbd),{'content':_0x521c9b,'isGif':!0x0}),setTimeout(()=>{isSendingMessage=!0x1;},0x64));}function _0x2958(){var _0xa89d20=['chat-bubble','appendChild','url','3070180dGNPwO','loggedInUser','68WTcuFL','textContent','toString','add','submit','.fallback-message','img','sender','.gifHide','length','connect','.error-message','preventDefault','.chat-box','none','log','remove','&limit20','div','message','.gif-button','3yChusT','innerHTML','3491400KtuDRU','showInput','getElementById','getHours','872hVxULj','441445KcuNUo','text','&api_key=','emit','padStart','lastElementChild','gifContainer','data-gif','src','33540LMrLZr','username-me','images','Connected\x20to\x20server','contains','Fout\x20bij\x20het\x20ophalen\x20van\x20de\x20API_KEY:','lazy','loading','style','fixed_width','.searchGif','data','keypress','forEach','addEventListener','setAttribute','gif','https://api.giphy.com/v1/gifs/search?q=','scrollIntoView','getMinutes','querySelector','5302pNUKiA','apiKey','chatHistory','display','value','content','823401sfiTFb','searchInput','smooth','left-bubble','createElement','12005EbRWDv','isGif','.send-button','\x20-\x20','classList','username','then','trim','click','active','getAttribute','.input-field','3899385eXqoYQ'];_0x2958=function(){return _0xa89d20;};return _0x2958();}function displayMessage(_0x4e14eb,_0x5ce656=!0x0){var _0x407a94=_0x4e00b0,_0x27968d,_0x357fee;_0x5ce656&&''===_0x4e14eb[_0x407a94(0xe9)][_0x407a94(0xf6)]()||((_0x27968d=document['createElement'](_0x407a94(0xbc)))[_0x407a94(0xf3)][_0x407a94(0xad)](_0x407a94(0xa5)),_0x27968d[_0x407a94(0xf3)][_0x407a94(0xad)](getMessageClass(_0x4e14eb[_0x407a94(0xb1)])),(_0x357fee=document['createElement']('p'))['classList'][_0x407a94(0xad)](addUsername(_0x4e14eb[_0x407a94(0xb1)])),_0x357fee[_0x407a94(0xab)]=_0x4e14eb[_0x407a94(0xb1)]+_0x407a94(0xf2)+getFormattedTimestamp(_0x4e14eb['timestamp']),chatBox[_0x407a94(0xa6)](_0x357fee),_0x4e14eb[_0x407a94(0xf0)]?((_0x357fee=document[_0x407a94(0xee)](_0x407a94(0xb0)))[_0x407a94(0xce)]=_0x4e14eb[_0x407a94(0xe9)],_0x5ce656&&_0x357fee[_0x407a94(0xf3)]['add']('sent-gif'),_0x357fee[_0x407a94(0xde)]('data-gif',_0x4e14eb[_0x407a94(0xe9)]),_0x357fee['addEventListener'](_0x407a94(0xa0),function(){var _0x17b483=_0x407a94;this['classList'][_0x17b483(0xd3)]('sent-gif')||(sendGifMessage(this[_0x17b483(0xa2)](_0x17b483(0xcd))),closeGifMenu());}),_0x27968d[_0x407a94(0xa6)](_0x357fee)):_0x27968d[_0x407a94(0xab)]=_0x4e14eb[_0x407a94(0xe9)],chatBox[_0x407a94(0xa6)](_0x27968d));}function getMessageClass(_0x2d3762){var _0x3bb673=_0x4e00b0;return _0x2d3762===username?'right-bubble':_0x3bb673(0xed);}function addUsername(_0x32dcc5){var _0x16eaff=_0x4e00b0;return _0x32dcc5===username?_0x16eaff(0xd0):_0x16eaff(0xf4);}function getFormattedTimestamp(_0x51c353){var _0x24b17c=_0x4e00b0;return _0x51c353=new Date(_0x51c353),_0x51c353[_0x24b17c(0xc4)]()[_0x24b17c(0xac)]()['padStart'](0x2,'0')+':'+_0x51c353[_0x24b17c(0xe2)]()[_0x24b17c(0xac)]()[_0x24b17c(0xca)](0x2,'0');}function scrollToBottom(){var _0x1a2bf3=_0x4e00b0,_0x3f1cde=chatBox[_0x1a2bf3(0xcb)];_0x3f1cde&&_0x3f1cde[_0x1a2bf3(0xe1)]({'behavior':_0x1a2bf3(0xec)});}function getGifs(){var _0x29dc72=_0x4e00b0;fetch('/api/api-key')[_0x29dc72(0xf5)](_0x446f99=>_0x446f99['json']())[_0x29dc72(0xf5)](_0x5839c6=>{var _0x56e2ee=_0x29dc72,_0x5839c6=_0x5839c6[_0x56e2ee(0xe5)],_0x58cc70=document['getElementById']('searchInput')[_0x56e2ee(0xe8)];fetch(_0x56e2ee(0xe0)+_0x58cc70+_0x56e2ee(0xc8)+_0x5839c6+_0x56e2ee(0xbb))['then'](_0x3e2ca3=>_0x3e2ca3['json']())['then'](_0x4799cc=>{var _0x461155=_0x56e2ee,_0x1ae934=document[_0x461155(0xc3)](_0x461155(0xcc));_0x1ae934[_0x461155(0xc0)]='',0x0===_0x4799cc[_0x461155(0xda)][_0x461155(0xb3)]?errorMessage[_0x461155(0xd7)][_0x461155(0xe7)]='block':errorMessage[_0x461155(0xd7)][_0x461155(0xe7)]=_0x461155(0xb8);for(let _0x47104f=0x0;_0x47104f<_0x4799cc[_0x461155(0xda)][_0x461155(0xb3)];_0x47104f++){var _0x5533b8=_0x4799cc[_0x461155(0xda)][_0x47104f][_0x461155(0xd1)][_0x461155(0xd8)][_0x461155(0xa7)],_0x56583c=document[_0x461155(0xee)](_0x461155(0xb0));_0x56583c[_0x461155(0xce)]=_0x5533b8,_0x56583c[_0x461155(0xde)](_0x461155(0xcd),_0x5533b8),_0x56583c[_0x461155(0xd6)]=_0x461155(0xd5),_0x56583c['addEventListener']('click',function(){var _0x298b44=_0x461155;sendGifMessage(this[_0x298b44(0xa2)](_0x298b44(0xcd)));}),_0x1ae934[_0x461155(0xa6)](_0x56583c);}})['catch'](_0x27fe30=>{var _0x4054e3=_0x56e2ee;console[_0x4054e3(0xb9)](_0x27fe30);});})['catch'](_0x3cb248=>{var _0x32652c=_0x29dc72;console['log'](_0x32652c(0xd4),_0x3cb248);});}function sendGifMessage(_0x5f482a){var _0x59c5d3=_0x4e00b0;socket[_0x59c5d3(0xc9)](_0x59c5d3(0xbd),{'content':_0x5f482a,'isGif':!0x0}),closeGifMenu(),gifHide['classList']['remove'](_0x59c5d3(0xc2)),searchInput[_0x59c5d3(0xf3)][_0x59c5d3(0xba)](_0x59c5d3(0xa1)),searchGif[_0x59c5d3(0xf3)]['remove']('active'),searchInput[_0x59c5d3(0xe8)]='';}function closeGifMenu(){var _0x64d78e=_0x4e00b0;document[_0x64d78e(0xc3)]('gifContainer')['innerHTML']='';}function _0x38b5(_0x5ceab5,_0x13f3f6){var _0x29584c=_0x2958();return _0x38b5=function(_0x38b5b0,_0x2f375b){_0x38b5b0=_0x38b5b0-0xa0;var _0x1740fa=_0x29584c[_0x38b5b0];return _0x1740fa;},_0x38b5(_0x5ceab5,_0x13f3f6);}form[_0x4e00b0(0xdd)](_0x4e00b0(0xae),_0x23f263=>{var _0x3fd8e4=_0x4e00b0;_0x23f263[_0x3fd8e4(0xb6)]();}),_0x4e00b0(0xb8)!==fallbackMessage[_0x4e00b0(0xd7)][_0x4e00b0(0xe7)]&&(fallbackMessage[_0x4e00b0(0xd7)][_0x4e00b0(0xe7)]=_0x4e00b0(0xb8)),socket['on'](_0x4e00b0(0xb4),()=>{var _0x5d2f08=_0x4e00b0;console[_0x5d2f08(0xb9)](_0x5d2f08(0xd2));}),socket['on'](_0x4e00b0(0xbd),_0x51b574=>{displayMessage(_0x51b574),setTimeout(scrollToBottom,0x64);}),socket['on'](_0x4e00b0(0xe6),_0x103e7=>{var _0x12526d=_0x4e00b0;_0x103e7[_0x12526d(0xdc)](_0x5b7942=>{displayMessage(_0x5b7942);}),setTimeout(scrollToBottom,0x64);}),socket['on'](_0x4e00b0(0xa9),_0x1bf3a9=>{username=_0x1bf3a9;}),sendButton[_0x4e00b0(0xdd)](_0x4e00b0(0xa0),()=>{var _0x5c8313=_0x4e00b0;sendMessage(_0x5c8313(0xc7));}),inputField[_0x4e00b0(0xdd)](_0x4e00b0(0xdb),_0xd8b58b=>{var _0x3398cf=_0x4e00b0;'Enter'===_0xd8b58b['key']&&sendMessage(_0x3398cf(0xc7));});const gifBar=()=>{var _0x5c8dde=_0x4e00b0;_0x5c8dde(0xb8)===getComputedStyle(gifHide)[_0x5c8dde(0xe7)]?gifHide['classList']['add']('showInput'):gifHide[_0x5c8dde(0xf3)][_0x5c8dde(0xba)](_0x5c8dde(0xc2));};gifButton[_0x4e00b0(0xdd)](_0x4e00b0(0xa0),gifBar),searchGif[_0x4e00b0(0xdd)](_0x4e00b0(0xa0),()=>{var _0x1fe2ff=_0x4e00b0;searchInput['classList']['add'](_0x1fe2ff(0xa1)),searchGif['classList']['add'](_0x1fe2ff(0xa1));}),searchGif[_0x4e00b0(0xdd)](_0x4e00b0(0xa0),()=>{getGifs();});