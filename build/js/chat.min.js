var _0x4fd615=_0x221f;(function(_0x5bc19f,_0x3f03f0){var _0x4f50e9=_0x221f,_0x35625e=_0x5bc19f();while(!![]){try{var _0x5469fe=parseInt(_0x4f50e9(0x1f3))/0x1+parseInt(_0x4f50e9(0x202))/0x2+parseInt(_0x4f50e9(0x228))/0x3*(parseInt(_0x4f50e9(0x204))/0x4)+-parseInt(_0x4f50e9(0x20b))/0x5+-parseInt(_0x4f50e9(0x1f9))/0x6+-parseInt(_0x4f50e9(0x1f6))/0x7+parseInt(_0x4f50e9(0x23c))/0x8;if(_0x5469fe===_0x3f03f0)break;else _0x35625e['push'](_0x35625e['shift']());}catch(_0x2d11b8){_0x35625e['push'](_0x35625e['shift']());}}}(_0x36b9,0x9f470));const inputField=document[_0x4fd615(0x220)]('.input-field'),sendButton=document[_0x4fd615(0x220)](_0x4fd615(0x1ff)),chatBox=document[_0x4fd615(0x220)](_0x4fd615(0x234)),fallbackMessage=document[_0x4fd615(0x220)](_0x4fd615(0x213)),searchGif=document[_0x4fd615(0x220)]('.searchGif'),gifButton=document[_0x4fd615(0x220)](_0x4fd615(0x21b)),gifHide=document[_0x4fd615(0x220)](_0x4fd615(0x217)),searchInput=document[_0x4fd615(0x207)](_0x4fd615(0x22d)),form=document['getElementById'](_0x4fd615(0x22e)),errorMessage=document['querySelector'](_0x4fd615(0x233)),socket=(errorMessage[_0x4fd615(0x201)][_0x4fd615(0x21a)]=_0x4fd615(0x212),io());let isSendingMessage=!0x1,username;function sendMessage(_0x481812,_0xff1f52=null){var _0x227eed=_0x4fd615,_0x42a13d;isSendingMessage||(_0x42a13d=inputField[_0x227eed(0x232)])[_0x227eed(0x219)]()&&(inputField[_0x227eed(0x232)]='',isSendingMessage=!0x0,_0x227eed(0x1fa)===_0x481812?socket[_0x227eed(0x203)](_0x227eed(0x20a),{'content':_0x42a13d,'isGif':!0x1}):'gif'===_0x481812&&_0xff1f52&&socket[_0x227eed(0x203)](_0x227eed(0x20a),{'content':_0xff1f52,'isGif':!0x0}),setTimeout(()=>{isSendingMessage=!0x1;},0x64));}function displayMessage(_0x2cbb88,_0x32ec33=!0x0){var _0x4ef29c=_0x4fd615,_0x39f21f,_0x441fd6;_0x32ec33&&''===_0x2cbb88[_0x4ef29c(0x1f5)][_0x4ef29c(0x219)]()||((_0x39f21f=document[_0x4ef29c(0x224)](_0x4ef29c(0x236)))[_0x4ef29c(0x23b)][_0x4ef29c(0x22a)]('chat-bubble'),_0x39f21f[_0x4ef29c(0x23b)]['add'](getMessageClass(_0x2cbb88[_0x4ef29c(0x21f)])),(_0x441fd6=document[_0x4ef29c(0x224)]('p'))[_0x4ef29c(0x23b)]['add'](addUsername(_0x2cbb88['sender'])),_0x441fd6[_0x4ef29c(0x1f2)]=_0x2cbb88[_0x4ef29c(0x21f)]+'\x20-\x20'+getFormattedTimestamp(_0x2cbb88[_0x4ef29c(0x200)]),chatBox[_0x4ef29c(0x238)](_0x441fd6),_0x2cbb88[_0x4ef29c(0x20e)]?((_0x441fd6=document[_0x4ef29c(0x224)](_0x4ef29c(0x1f1)))[_0x4ef29c(0x218)]=_0x2cbb88[_0x4ef29c(0x1f5)],_0x32ec33&&_0x441fd6[_0x4ef29c(0x23b)][_0x4ef29c(0x22a)]('sent-gif'),_0x441fd6[_0x4ef29c(0x221)](_0x4ef29c(0x230),_0x2cbb88[_0x4ef29c(0x1f5)]),_0x441fd6[_0x4ef29c(0x209)](_0x4ef29c(0x225),function(){var _0x3eed8d=_0x4ef29c;this[_0x3eed8d(0x23b)][_0x3eed8d(0x214)](_0x3eed8d(0x1fb))||(sendGifMessage(this['getAttribute'](_0x3eed8d(0x230))),closeGifMenu());}),_0x39f21f[_0x4ef29c(0x238)](_0x441fd6)):_0x39f21f[_0x4ef29c(0x1f2)]=_0x2cbb88['content'],chatBox['appendChild'](_0x39f21f));}function getMessageClass(_0x3566eb){var _0x4bfaea=_0x4fd615;return _0x3566eb===username?_0x4bfaea(0x23a):_0x4bfaea(0x237);}function _0x221f(_0x4513fc,_0x444d77){var _0x36b990=_0x36b9();return _0x221f=function(_0x221f46,_0x5e869a){_0x221f46=_0x221f46-0x1ee;var _0x31759e=_0x36b990[_0x221f46];return _0x31759e;},_0x221f(_0x4513fc,_0x444d77);}function _0x36b9(){var _0x3e9674=['lazy','Fout\x20bij\x20het\x20ophalen\x20van\x20de\x20API_KEY:','searchInput','input-form','catch','data-gif','loading','value','.error-message','.chat-box','url','div','left-bubble','appendChild','scrollIntoView','right-bubble','classList','14722088hUwceD','getHours','preventDefault','padStart','innerHTML','block','key','gifContainer','img','textContent','348983vDVxzn','data','content','2475767HgVzbw','loggedInUser','keypress','2473590xeNuyn','text','sent-gif','connect','getAttribute','toString','.send-button','timestamp','style','425716bYYgRe','emit','500rNUlbc','then','json','getElementById','length','addEventListener','message','5326280PMuzZy','Connected\x20to\x20server','https://api.giphy.com/v1/gifs/search?q=','isGif','showInput','getMinutes','submit','none','.fallback-message','contains','active','forEach','.gifHide','src','trim','display','.gif-button','fixed_width','lastElementChild','remove','sender','querySelector','setAttribute','Enter','username','createElement','click','log','images','1956WzvgjE','smooth','add'];_0x36b9=function(){return _0x3e9674;};return _0x36b9();}function addUsername(_0x1e2324){var _0x212f8d=_0x4fd615;return _0x1e2324===username?'username-me':_0x212f8d(0x223);}function getFormattedTimestamp(_0x24951c){var _0x243771=_0x4fd615;return _0x24951c=new Date(_0x24951c),_0x24951c[_0x243771(0x23d)]()[_0x243771(0x1fe)]()[_0x243771(0x23f)](0x2,'0')+':'+_0x24951c[_0x243771(0x210)]()[_0x243771(0x1fe)]()[_0x243771(0x23f)](0x2,'0');}function scrollToBottom(){var _0x213ae3=_0x4fd615,_0xd9c28f=chatBox[_0x213ae3(0x21d)];_0xd9c28f&&_0xd9c28f[_0x213ae3(0x239)]({'behavior':_0x213ae3(0x229)});}function getGifs(){var _0x343a7e=_0x4fd615;fetch('/api/api-key')['then'](_0x3c3e8a=>_0x3c3e8a[_0x343a7e(0x206)]())[_0x343a7e(0x205)](_0x1b49e6=>{var _0x11a152=_0x343a7e,_0x1b49e6=_0x1b49e6['apiKey'],_0x5b1041=document[_0x11a152(0x207)]('searchInput')[_0x11a152(0x232)];fetch(_0x11a152(0x20d)+_0x5b1041+'&api_key='+_0x1b49e6+'&limit20')[_0x11a152(0x205)](_0x361268=>_0x361268['json']())[_0x11a152(0x205)](_0x215158=>{var _0x521f3e=_0x11a152,_0x5f15be=document[_0x521f3e(0x207)](_0x521f3e(0x1f0));_0x5f15be[_0x521f3e(0x240)]='',0x0===_0x215158[_0x521f3e(0x1f4)][_0x521f3e(0x208)]?errorMessage[_0x521f3e(0x201)][_0x521f3e(0x21a)]=_0x521f3e(0x1ee):errorMessage[_0x521f3e(0x201)][_0x521f3e(0x21a)]=_0x521f3e(0x212);for(let _0x343f55=0x0;_0x343f55<_0x215158[_0x521f3e(0x1f4)][_0x521f3e(0x208)];_0x343f55++){var _0x4bfbc7=_0x215158[_0x521f3e(0x1f4)][_0x343f55][_0x521f3e(0x227)][_0x521f3e(0x21c)][_0x521f3e(0x235)],_0x5dee22=document[_0x521f3e(0x224)](_0x521f3e(0x1f1));_0x5dee22['src']=_0x4bfbc7,_0x5dee22[_0x521f3e(0x221)](_0x521f3e(0x230),_0x4bfbc7),_0x5dee22[_0x521f3e(0x231)]=_0x521f3e(0x22b),_0x5dee22[_0x521f3e(0x209)](_0x521f3e(0x225),function(){var _0x3513f3=_0x521f3e;sendGifMessage(this[_0x3513f3(0x1fd)](_0x3513f3(0x230)));}),_0x5f15be['appendChild'](_0x5dee22);}})[_0x11a152(0x22f)](_0x14714a=>{var _0x1ed85a=_0x11a152;console[_0x1ed85a(0x226)](_0x14714a);});})['catch'](_0x260e45=>{var _0x54d39e=_0x343a7e;console['log'](_0x54d39e(0x22c),_0x260e45);});}function sendGifMessage(_0x5f3e2f){var _0x43ce9e=_0x4fd615;socket[_0x43ce9e(0x203)](_0x43ce9e(0x20a),{'content':_0x5f3e2f,'isGif':!0x0}),closeGifMenu(),gifHide[_0x43ce9e(0x23b)][_0x43ce9e(0x21e)](_0x43ce9e(0x20f)),searchInput[_0x43ce9e(0x23b)][_0x43ce9e(0x21e)]('active'),searchGif[_0x43ce9e(0x23b)][_0x43ce9e(0x21e)]('active'),searchInput[_0x43ce9e(0x232)]='';}function closeGifMenu(){var _0x4b0681=_0x4fd615;document[_0x4b0681(0x207)](_0x4b0681(0x1f0))[_0x4b0681(0x240)]='';}form['addEventListener'](_0x4fd615(0x211),_0x1c7516=>{var _0x5e441b=_0x4fd615;_0x1c7516[_0x5e441b(0x23e)]();}),_0x4fd615(0x212)!==fallbackMessage[_0x4fd615(0x201)][_0x4fd615(0x21a)]&&(fallbackMessage[_0x4fd615(0x201)]['display']=_0x4fd615(0x212)),socket['on'](_0x4fd615(0x1fc),()=>{var _0x591420=_0x4fd615;console[_0x591420(0x226)](_0x591420(0x20c));}),socket['on'](_0x4fd615(0x20a),_0x30fd41=>{displayMessage(_0x30fd41),setTimeout(scrollToBottom,0x64);}),socket['on']('chatHistory',_0x128b8a=>{var _0x1af2bc=_0x4fd615;_0x128b8a[_0x1af2bc(0x216)](_0x166c99=>{displayMessage(_0x166c99);}),setTimeout(scrollToBottom,0x64);}),socket['on'](_0x4fd615(0x1f7),_0x3b03e0=>{username=_0x3b03e0;}),sendButton[_0x4fd615(0x209)](_0x4fd615(0x225),()=>{var _0x1c157b=_0x4fd615;sendMessage(_0x1c157b(0x1fa));}),inputField[_0x4fd615(0x209)](_0x4fd615(0x1f8),_0x543edb=>{var _0x1b37be=_0x4fd615;_0x1b37be(0x222)===_0x543edb[_0x1b37be(0x1ef)]&&sendMessage('text');});const gifBar=()=>{var _0x4e649e=_0x4fd615;_0x4e649e(0x212)===getComputedStyle(gifHide)['display']?gifHide[_0x4e649e(0x23b)]['add'](_0x4e649e(0x20f)):gifHide['classList']['remove']('showInput');};gifButton[_0x4fd615(0x209)](_0x4fd615(0x225),gifBar),searchGif[_0x4fd615(0x209)](_0x4fd615(0x225),()=>{var _0x4cba17=_0x4fd615;searchInput['classList'][_0x4cba17(0x22a)]('active'),searchGif[_0x4cba17(0x23b)][_0x4cba17(0x22a)](_0x4cba17(0x215));}),searchGif[_0x4fd615(0x209)](_0x4fd615(0x225),()=>{getGifs();});