var _0x28e32e=_0x38c9;(function(_0x22835d,_0x5a3594){var _0x546672=_0x38c9,_0x12bc9d=_0x22835d();while(!![]){try{var _0x20afe8=parseInt(_0x546672(0xc5))/0x1+-parseInt(_0x546672(0xb4))/0x2*(parseInt(_0x546672(0xd6))/0x3)+parseInt(_0x546672(0xd4))/0x4+-parseInt(_0x546672(0xc4))/0x5*(-parseInt(_0x546672(0xf6))/0x6)+-parseInt(_0x546672(0xb9))/0x7+parseInt(_0x546672(0xe6))/0x8+parseInt(_0x546672(0xc7))/0x9*(-parseInt(_0x546672(0xdd))/0xa);if(_0x20afe8===_0x5a3594)break;else _0x12bc9d['push'](_0x12bc9d['shift']());}catch(_0x4b0ccb){_0x12bc9d['push'](_0x12bc9d['shift']());}}}(_0x2611,0x8301b));const inputField=document[_0x28e32e(0xc3)](_0x28e32e(0xf2)),sendButton=document[_0x28e32e(0xc3)](_0x28e32e(0xb5)),chatBox=document[_0x28e32e(0xc3)](_0x28e32e(0xe4)),fallbackMessage=document[_0x28e32e(0xc3)](_0x28e32e(0xd0)),searchGif=document[_0x28e32e(0xc3)](_0x28e32e(0xfd)),gifButton=document[_0x28e32e(0xc3)](_0x28e32e(0xcf)),gifHide=document[_0x28e32e(0xc3)](_0x28e32e(0xe5)),searchInput=document[_0x28e32e(0xf7)](_0x28e32e(0xd9)),form=document[_0x28e32e(0xf7)](_0x28e32e(0xdf)),errorMessage=document[_0x28e32e(0xc3)](_0x28e32e(0xfe)),socket=(errorMessage[_0x28e32e(0xc8)]['display']='none',io());let isSendingMessage=!0x1,username;function sendMessage(_0x4f5e2f,_0x198f8b=null){var _0x285a40=_0x28e32e,_0x51c4d8;isSendingMessage||(_0x51c4d8=inputField['value'])['trim']()&&(inputField['value']='',isSendingMessage=!0x0,'text'===_0x4f5e2f?socket[_0x285a40(0xf3)](_0x285a40(0xd2),{'content':_0x51c4d8,'isGif':!0x1}):'gif'===_0x4f5e2f&&_0x198f8b&&socket['emit'](_0x285a40(0xd2),{'content':_0x198f8b,'isGif':!0x0}),setTimeout(()=>{isSendingMessage=!0x1;},0x64));}function displayMessage(_0x596f83,_0x350c86=!0x0){var _0x51565f=_0x28e32e,_0x3a1a0e,_0x18cbc3;_0x350c86&&''===_0x596f83[_0x51565f(0xb7)]['trim']()||((_0x3a1a0e=document[_0x51565f(0xd5)]('div'))[_0x51565f(0xba)]['add'](_0x51565f(0xe0)),_0x3a1a0e['classList'][_0x51565f(0xcd)](getMessageClass(_0x596f83[_0x51565f(0xdc)])),(_0x18cbc3=document[_0x51565f(0xd5)]('p'))[_0x51565f(0xba)][_0x51565f(0xcd)](addUsername(_0x596f83[_0x51565f(0xdc)])),_0x18cbc3['textContent']=_0x596f83[_0x51565f(0xdc)]+_0x51565f(0xf9)+getFormattedTimestamp(_0x596f83['timestamp']),chatBox['appendChild'](_0x18cbc3),_0x596f83[_0x51565f(0xe3)]?((_0x18cbc3=document['createElement'](_0x51565f(0xcb)))[_0x51565f(0xf1)]=_0x596f83['content'],_0x350c86&&_0x18cbc3[_0x51565f(0xba)][_0x51565f(0xcd)]('sent-gif'),_0x18cbc3[_0x51565f(0xdb)]('data-gif',_0x596f83[_0x51565f(0xb7)]),_0x18cbc3[_0x51565f(0xef)](_0x51565f(0xd8),function(){var _0x39095c=_0x51565f;this[_0x39095c(0xba)][_0x39095c(0xd7)](_0x39095c(0xea))||(sendGifMessage(this['getAttribute'](_0x39095c(0xb8))),closeGifMenu());}),_0x3a1a0e[_0x51565f(0xe2)](_0x18cbc3)):_0x3a1a0e['textContent']=_0x596f83[_0x51565f(0xb7)],chatBox[_0x51565f(0xe2)](_0x3a1a0e));}function getMessageClass(_0x3a2575){var _0x441565=_0x28e32e;return _0x3a2575===username?'right-bubble':_0x441565(0xee);}function addUsername(_0x1516e2){var _0x55ff34=_0x28e32e;return _0x1516e2===username?'username-me':_0x55ff34(0xbc);}function getFormattedTimestamp(_0x595e78){var _0x46add6=_0x28e32e;return _0x595e78=new Date(_0x595e78),_0x595e78[_0x46add6(0xc2)]()['toString']()[_0x46add6(0xed)](0x2,'0')+':'+_0x595e78['getMinutes']()[_0x46add6(0xf5)]()[_0x46add6(0xed)](0x2,'0');}function scrollToBottom(){var _0xe74acd=_0x28e32e,_0x32446e=chatBox['lastElementChild'];_0x32446e&&_0x32446e[_0xe74acd(0xc6)]({'behavior':_0xe74acd(0xf0)});}function getGifs(){var _0x5d8191=_0x28e32e;fetch('/api/api-key')[_0x5d8191(0xff)](_0x2f3599=>_0x2f3599[_0x5d8191(0xbf)]())[_0x5d8191(0xff)](_0x51c93d=>{var _0x11ffe1=_0x5d8191,_0x51c93d=_0x51c93d['apiKey'],_0x3f93e5=document[_0x11ffe1(0xf7)](_0x11ffe1(0xd9))[_0x11ffe1(0xbd)];fetch(_0x11ffe1(0xd1)+_0x3f93e5+_0x11ffe1(0xe7)+_0x51c93d+_0x11ffe1(0xca))[_0x11ffe1(0xff)](_0x5b1ec5=>_0x5b1ec5[_0x11ffe1(0xbf)]())[_0x11ffe1(0xff)](_0x4be73c=>{var _0x58fd2d=_0x11ffe1,_0x510e86=document[_0x58fd2d(0xf7)]('gifContainer');_0x510e86[_0x58fd2d(0xbb)]='',0x0===_0x4be73c[_0x58fd2d(0xde)][_0x58fd2d(0xb6)]?errorMessage['style'][_0x58fd2d(0xc1)]=_0x58fd2d(0x100):errorMessage[_0x58fd2d(0xc8)]['display']='none';for(let _0x567ac0=0x0;_0x567ac0<_0x4be73c['data']['length'];_0x567ac0++){var _0x4ff92b=_0x4be73c[_0x58fd2d(0xde)][_0x567ac0]['images'][_0x58fd2d(0xb2)][_0x58fd2d(0xf8)],_0x1dd5ce=document[_0x58fd2d(0xd5)](_0x58fd2d(0xcb));_0x1dd5ce[_0x58fd2d(0xf1)]=_0x4ff92b,_0x1dd5ce[_0x58fd2d(0xdb)]('data-gif',_0x4ff92b),_0x1dd5ce[_0x58fd2d(0xfb)]=_0x58fd2d(0xc9),_0x1dd5ce[_0x58fd2d(0xef)]('click',function(){var _0x1d2712=_0x58fd2d;sendGifMessage(this[_0x1d2712(0xec)](_0x1d2712(0xb8)));}),_0x510e86[_0x58fd2d(0xe2)](_0x1dd5ce);}})[_0x11ffe1(0xe8)](_0x44acda=>{var _0x5b9405=_0x11ffe1;console[_0x5b9405(0xd3)](_0x44acda);});})[_0x5d8191(0xe8)](_0x63b4c5=>{console['log']('Fout\x20bij\x20het\x20ophalen\x20van\x20de\x20API_KEY:',_0x63b4c5);});}function sendGifMessage(_0x1f53c6){var _0x151b74=_0x28e32e;socket[_0x151b74(0xf3)](_0x151b74(0xd2),{'content':_0x1f53c6,'isGif':!0x0}),closeGifMenu(),gifHide['classList'][_0x151b74(0xb3)](_0x151b74(0xeb)),searchInput[_0x151b74(0xba)][_0x151b74(0xb3)](_0x151b74(0xb1)),searchGif[_0x151b74(0xba)][_0x151b74(0xb3)](_0x151b74(0xb1)),searchInput[_0x151b74(0xbd)]='';}function closeGifMenu(){var _0x13c308=_0x28e32e;document[_0x13c308(0xf7)](_0x13c308(0xbe))[_0x13c308(0xbb)]='';}function _0x38c9(_0x1b14f3,_0x8888eb){var _0x261170=_0x2611();return _0x38c9=function(_0x38c950,_0xb61581){_0x38c950=_0x38c950-0xb1;var _0x395044=_0x261170[_0x38c950];return _0x395044;},_0x38c9(_0x1b14f3,_0x8888eb);}form[_0x28e32e(0xef)](_0x28e32e(0xce),_0x199c92=>{var _0x1ede09=_0x28e32e;_0x199c92[_0x1ede09(0xcc)]();}),_0x28e32e(0xf4)!==fallbackMessage[_0x28e32e(0xc8)][_0x28e32e(0xc1)]&&(fallbackMessage[_0x28e32e(0xc8)][_0x28e32e(0xc1)]=_0x28e32e(0xf4)),socket['on'](_0x28e32e(0xfa),()=>{console['log']('Connected\x20to\x20server');}),socket['on'](_0x28e32e(0xd2),_0x1c2c38=>{displayMessage(_0x1c2c38),setTimeout(scrollToBottom,0x64);}),socket['on'](_0x28e32e(0xfc),_0x5e6fc6=>{_0x5e6fc6['forEach'](_0x48811f=>{displayMessage(_0x48811f);}),setTimeout(scrollToBottom,0x64);}),socket['on'](_0x28e32e(0xe9),_0x4f934d=>{username=_0x4f934d;}),sendButton['addEventListener']('click',()=>{var _0x5a4430=_0x28e32e;sendMessage(_0x5a4430(0xda));}),inputField[_0x28e32e(0xef)]('keypress',_0x27c51d=>{var _0x463d88=_0x28e32e;_0x463d88(0xc0)===_0x27c51d[_0x463d88(0xe1)]&&sendMessage('text');});const gifBar=()=>{var _0x3d49b2=_0x28e32e;_0x3d49b2(0xf4)===getComputedStyle(gifHide)[_0x3d49b2(0xc1)]?gifHide[_0x3d49b2(0xba)]['add'](_0x3d49b2(0xeb)):gifHide[_0x3d49b2(0xba)][_0x3d49b2(0xb3)](_0x3d49b2(0xeb));};function _0x2611(){var _0xaa0ea8=['loading','chatHistory','.searchGif','.error-message','then','block','active','fixed_width','remove','1138772HnMqXB','.send-button','length','content','data-gif','3696322YKXDKx','classList','innerHTML','username','value','gifContainer','json','Enter','display','getHours','querySelector','1215LOivHg','316791DzllIv','scrollIntoView','2537541vvHAcz','style','lazy','&limit20','img','preventDefault','add','submit','.gif-button','.fallback-message','https://api.giphy.com/v1/gifs/search?q=','message','log','3528348lPWxBO','createElement','3eohgkM','contains','click','searchInput','text','setAttribute','sender','20ikEMAN','data','input-form','chat-bubble','key','appendChild','isGif','.chat-box','.gifHide','4242464sFyiGN','&api_key=','catch','loggedInUser','sent-gif','showInput','getAttribute','padStart','left-bubble','addEventListener','smooth','src','.input-field','emit','none','toString','11574SsHkCd','getElementById','url','\x20-\x20','connect'];_0x2611=function(){return _0xaa0ea8;};return _0x2611();}gifButton[_0x28e32e(0xef)](_0x28e32e(0xd8),gifBar),searchGif[_0x28e32e(0xef)](_0x28e32e(0xd8),()=>{var _0x2b8ff0=_0x28e32e;searchInput[_0x2b8ff0(0xba)][_0x2b8ff0(0xcd)]('active'),searchGif['classList'][_0x2b8ff0(0xcd)]('active');}),searchGif[_0x28e32e(0xef)](_0x28e32e(0xd8),()=>{getGifs();});